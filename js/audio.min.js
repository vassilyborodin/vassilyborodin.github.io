"use strict";!function(){function t(t){this.URL_START=t.urlStart,this.URL_END=t.urlEnd,this._additionalAttrs=t.additionalAttrs}function e(){this.URL_START="https://archive.org/embed/",this.URL_END="&playlist=1",this._additionalAttrs={allow:"fullscreen",allowfullscreen:""}}function r(){this.ALBUMS={5:201651664,"-":1118350219,"--2":570357022,"--3":1218095868,2018:3882505198,"--4":2697414893,"--5":4034128274,"--6":2972733965,"--7":2411725600},this.TRACKS={"01042020":3275218591},this.URL_START="https://bandcamp.com/EmbeddedPlayer/",this.URL_END="/size=large/bgcol=ffffff/linkcol=0687f5/tracklist=false/transparent=true/",this._additionalAttrs={seamless:""}}var i,a,o,n;t.prototype.createIframe=function(t){var e=document.createElement("iframe");for(var r in e.src=this.URL_START+t+this.URL_END,this._additionalAttrs)this._additionalAttrs.hasOwnProperty(r)&&e.setAttribute(r,this._additionalAttrs[r]);return e.classList.add("audio__media"),e},t.prototype.getId=function(t){return t.href.split("/").pop()},t.prototype.setup=function(a){var o=a.querySelector(".audio__link"),n=this.getId(o);if(n){var s=this,l=a.querySelector(".audio__button");a.addEventListener("click",function t(e){var r=e.target;for(;r!==a;){if(r===l||r===o){var i=s.createIframe(n);return l.parentElement.removeChild(l),o.parentElement.removeChild(o),a.appendChild(i),void a.removeEventListener("click",t)}r=r.parentElement}}),o.removeAttribute("href"),a.classList.add("audio--enabled")}},(e.prototype=Object.create(t.prototype)).constructor=e,((r.prototype=Object.create(t.prototype)).constructor=r).prototype.getId=function(t){var e,r=t.href.split("/"),i=r.pop(),a=r.pop();switch(a){case"album":e=this.ALBUMS[i];break;case"track":e=this.TRACKS[i]}return e?a+"="+e:null},i=document.querySelectorAll(".audio--archive"),a=document.querySelectorAll(".audio--bandcamp"),o=new e,n=new r,Array.prototype.forEach.call(i,function(t){o.setup(t)}),Array.prototype.forEach.call(a,function(t){n.setup(t)})}();