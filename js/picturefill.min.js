!function(e){var t,i,s,r,n,c,a,u=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(u)&&u.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(i=document.createElement("source"),s=function(e){var t,s,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=i.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,s=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=s}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)s(t[e])},n=function(){clearTimeout(t),t=setTimeout(r,99)},c=e.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){n(),c&&c.addListener&&c.addListener(n)},i.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),n))}(window),function(e,n,o){"use strict";var i,l,u;n.createElement("picture");var E={},c=!1,t=function(){},s=n.createElement("img"),f=s.getAttribute,d=s.setAttribute,p=s.removeAttribute,a=n.documentElement,r={},z={algorithm:""},A="data-pfsrc",m=A+"set",h=navigator.userAgent,b=/rident/.test(h)||/ecko/.test(h)&&h.match(/rv\:(\d+)/)&&35<RegExp.$1,T="currentSrc",g=/\s+\+?\d+(e\d+)?w/,v=/(\([^)]+\))?\s*(.+)/,w=e.picturefillCFG,S="font-size:100%!important;",x=!0,y={},C={},R=e.devicePixelRatio,L={px:1,in:96},M=n.createElement("a"),P=!1,D=/^[ \t\n\r\u000c]+/,B=/^[, \t\n\r\u000c]+/,I=/^[^ \t\n\r\u000c]+/,U=/[,]+$/,$=/^\d+$/,k=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,W=function(e,t,s,r){e.addEventListener?e.addEventListener(t,s,r||!1):e.attachEvent&&e.attachEvent("on"+t,s)},Q=function(t){var s={};return function(e){return e in s||(s[e]=t(e)),s[e]}};function G(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var H,F,N,O,q,j,V,_,K,J,X,Y,Z,ee,te,se,re,ie,ne,ce=(H=/^([\d\.]+)(em|vw|px)$/,F=Q(function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var s;if(!(e in y))if(y[e]=!1,t&&(s=e.match(H)))y[e]=s[1]*L[s[2]];else try{y[e]=new Function("e",F(e))(L)}catch(e){}return y[e]}),ae=function(e,t){return e.w?(e.cWidth=E.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ue=function(e){if(c){var t,s,r,i=e||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),r=(t=i.elements||E.qsa(i.context||n,i.reevaluate||i.reselect?E.sel:E.selShort)).length){for(E.setupRun(i),P=!0,s=0;s<r;s++)E.fillImg(t[s],i);E.teardownRun(i)}}};function oe(e,t){return e.res-t.res}function le(e,t){var s,r,i;if(e&&t)for(i=E.parseSet(t),e=E.makeUrl(e),s=0;s<i.length;s++)if(e===E.makeUrl(i[s].url)){r=i[s];break}return r}e.console&&console.warn,T in s||(T="src"),r["image/jpeg"]=!0,r["image/gif"]=!0,r["image/png"]=!0,r["image/svg+xml"]=n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),E.ns=("pf"+(new Date).getTime()).substr(0,9),E.supSrcset="srcset"in s,E.supSizes="sizes"in s,E.supPicture=!!e.HTMLPictureElement,E.supSrcset&&E.supPicture&&!E.supSizes&&(N=n.createElement("img"),s.srcset="data:,a",N.src="data:,a",E.supSrcset=s.complete===N.complete,E.supPicture=E.supSrcset&&E.supPicture),E.supSrcset&&!E.supSizes?(O="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",q=n.createElement("img"),j=function(){2===q.width&&(E.supSizes=!0),l=E.supSrcset&&!E.supSizes,c=!0,setTimeout(ue)},q.onload=j,q.onerror=j,q.setAttribute("sizes","9px"),q.srcset=O+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",q.src=O):c=!0,E.selShort="picture>img,img[srcset]",E.sel=E.selShort,E.cfg=z,E.DPR=R||1,E.u=L,E.types=r,E.setSize=t,E.makeUrl=Q(function(e){return M.href=e,M.href}),E.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},E.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?E.matchesMedia=function(e){return!e||matchMedia(e).matches}:E.matchesMedia=E.mMQ,E.matchesMedia.apply(this,arguments)},E.mMQ=function(e){return!e||ce(e)},E.calcLength=function(e){var t=ce(e,!0)||!1;return t<0&&(t=!1),t},E.supportsType=function(e){return!e||r[e]},E.parseSize=Q(function(e){var t=(e||"").match(v);return{media:t&&t[1],length:t&&t[2]}}),E.parseSet=function(e){return e.cands||(e.cands=function(r,f){function e(e){var t,s=e.exec(r.substring(c));if(s)return t=s[0],c+=t.length,t}var d,p,t,s,i,n=r.length,c=0,A=[];function a(){var e,t,s,r,i,n,c,a,u,o=!1,l={};for(r=0;r<p.length;r++)n=(i=p[r])[i.length-1],c=i.substring(0,i.length-1),a=parseInt(c,10),u=parseFloat(c),$.test(c)&&"w"===n?((e||t)&&(o=!0),0===a?o=!0:e=a):k.test(c)&&"x"===n?((e||t||s)&&(o=!0),u<0?o=!0:t=u):$.test(c)&&"h"===n?((s||t)&&(o=!0),0===a?o=!0:s=a):o=!0;o||(l.url=d,e&&(l.w=e),t&&(l.d=t),s&&(l.h=s),s||t||e||(l.d=1),1===l.d&&(f.has1x=!0),l.set=f,A.push(l))}function u(){for(e(D),t="",s="in descriptor";;){if(i=r.charAt(c),"in descriptor"===s)if(G(i))t&&(p.push(t),t="",s="after descriptor");else{if(","===i)return c+=1,t&&p.push(t),void a();if("("===i)t+=i,s="in parens";else{if(""===i)return t&&p.push(t),void a();t+=i}}else if("in parens"===s)if(")"===i)t+=i,s="in descriptor";else{if(""===i)return p.push(t),void a();t+=i}else if("after descriptor"===s)if(G(i));else{if(""===i)return void a();s="in descriptor",c-=1}c+=1}}for(;;){if(e(B),n<=c)return A;d=e(I),p=[],","===d.slice(-1)?(d=d.replace(U,""),a()):u()}}(e.srcset,e)),e.cands},E.getEmValue=function(){var e;if(!i&&(e=n.body)){var t=n.createElement("div"),s=a.style.cssText,r=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",a.style.cssText=S,e.style.cssText=S,e.appendChild(t),i=t.offsetWidth,e.removeChild(t),i=parseFloat(i,10),a.style.cssText=s,e.style.cssText=r}return i||16},E.calcListLength=function(e){if(!(e in C)||z.uT){var t=E.calcLength(function(e){var t,s,r,i,n,c,a,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,o=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(s=function(e){var t,s="",r=[],i=[],n=0,c=0,a=!1;function u(){s&&(r.push(s),s="")}function o(){r[0]&&(i.push(r),r=[])}for(;;){if(""===(t=e.charAt(c)))return u(),o(),i;if(a){if("*"===t&&"/"===e[c+1]){a=!1,c+=2,u();continue}c+=1}else{if(G(t)){if(e.charAt(c-1)&&G(e.charAt(c-1))||!s){c+=1;continue}if(0===n){u(),c+=1;continue}t=" "}else if("("===t)n+=1;else if(")"===t)n-=1;else{if(","===t){u(),o(),c+=1;continue}if("/"===t&&"*"===e.charAt(c+1)){a=!0,c+=2;continue}}s+=t,c+=1}}}(e)).length,t=0;t<r;t++)if(n=(i=s[t])[i.length-1],a=n,u.test(a)&&0<=parseFloat(a)||o.test(a)||"0"===a||"-0"===a||"+0"===a){if(c=n,i.pop(),0===i.length)return c;if(i=i.join(" "),E.matchesMedia(i))return c}return"100vw"}(e));C[e]=t||L.width}return C[e]},E.setRes=function(e){var t;if(e)for(var s=0,r=(t=E.parseSet(e)).length;s<r;s++)ae(t[s],e.sizes);return t},E.setRes.res=ae,E.applySetCandidate=function(e,t){if(e.length){var s,r,i,n,c,a,u,o,l,f,d,p,A,m,h,g,v,w,S,x=t[E.ns],y=E.DPR;if(a=x.curSrc||t[T],(u=x.curCan||(f=t,d=a,!(p=e[0].set)&&d&&(p=(p=f[E.ns].sets)&&p[p.length-1]),(A=le(d,p))&&(d=E.makeUrl(d),f[E.ns].curSrc=d,(f[E.ns].curCan=A).res||ae(A,A.set.sizes)),A))&&u.set===e[0].set&&((l=b&&!t.complete&&u.res-.1>y)||(u.cached=!0,u.res>=y&&(c=u))),!c)for(e.sort(oe),c=e[(n=e.length)-1],r=0;r<n;r++)if((s=e[r]).res>=y){c=e[i=r-1]&&(l||a!==E.makeUrl(s.url))&&(m=e[i].res,h=s.res,g=y,v=e[i].cached,S=w=void 0,g<("saveData"===z.algorithm?2.7<m?g+1:(S=(h-g)*(w=Math.pow(m-.6,1.5)),v&&(S+=.1*w),m+S):1<g?Math.sqrt(m*h):m))?e[i]:s;break}c&&(o=E.makeUrl(c.url),x.curSrc=o,x.curCan=c,o!==a&&E.setSrc(t,c),E.setSize(t))}},E.setSrc=function(e,t){var s;e.src=t.url,"image/svg+xml"===t.set.type&&(s=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=s))},E.getSet=function(e){var t,s,r,i=!1,n=e[E.ns].sets;for(t=0;t<n.length&&!i;t++)if((s=n[t]).srcset&&E.matchesMedia(s.media)&&(r=E.supportsType(s.type))){"pending"===r&&(s=r),i=s;break}return i},E.parseSets=function(e,t,s){var r,i,n,c,a=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[E.ns];(u.src===o||s.src)&&(u.src=f.call(e,"src"),u.src?d.call(e,A,u.src):p.call(e,A)),(u.srcset===o||s.srcset||!E.supSrcset||e.srcset)&&(r=f.call(e,"srcset"),u.srcset=r,c=!0),u.sets=[],a&&(u.pic=!0,function(e,t){var s,r,i,n,c=e.getElementsByTagName("source");for(s=0,r=c.length;s<r;s++)(i=c[s])[E.ns]=!0,(n=i.getAttribute("srcset"))&&t.push({srcset:n,media:i.getAttribute("media"),type:i.getAttribute("type"),sizes:i.getAttribute("sizes")})}(t,u.sets)),u.srcset?(i={srcset:u.srcset,sizes:f.call(e,"sizes")},u.sets.push(i),(n=(l||u.src)&&g.test(u.srcset||""))||!u.src||le(u.src,i)||i.has1x||(i.srcset+=", "+u.src,i.cands.push({url:u.src,d:1,set:i}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=o,u.supported=!(a||i&&!E.supSrcset||n&&!E.supSizes),c&&E.supSrcset&&!u.supported&&(r?(d.call(e,m,r),e.srcset=""):p.call(e,m)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==E.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},E.fillImg=function(e,t){var s,r,i,n,c,a=t.reselect||t.reevaluate;(e[E.ns]||(e[E.ns]={}),s=e[E.ns],a||s.evaled!==u)&&(s.parsed&&!t.reevaluate||E.parseSets(e,e.parentNode,t),s.supported?s.evaled=u:(r=e,n=E.getSet(r),c=!1,"pending"!==n&&(c=u,n&&(i=E.setRes(n),E.applySetCandidate(i,r))),r[E.ns].evaled=c))},E.setupRun=function(){P&&!x&&R===e.devicePixelRatio||(x=!1,R=e.devicePixelRatio,y={},C={},E.DPR=R||1,L.width=Math.max(e.innerWidth||0,a.clientWidth),L.height=Math.max(e.innerHeight||0,a.clientHeight),L.vw=L.width/100,L.vh=L.height/100,u=[L.height,L.width,R].join("-"),L.em=E.getEmValue(),L.rem=L.em)},E.supPicture?(ue=t,E.fillImg=t):(Z=e.attachEvent?/d$|^c/:/d$|^c|^i/,ee=function(){var e=n.readyState||"";te=setTimeout(ee,"loading"===e?200:999),n.body&&(E.fillImgs(),(V=V||Z.test(e))&&clearTimeout(te))},te=setTimeout(ee,n.body?9:99),se=a.clientHeight,W(e,"resize",(_=function(){x=Math.max(e.innerWidth||0,a.clientWidth)!==L.width||a.clientHeight!==se,se=a.clientHeight,x&&E.fillImgs()},K=99,Y=function(){var e=new Date-X;e<K?J=setTimeout(Y,K-e):(J=null,_())},function(){X=new Date,J||(J=setTimeout(Y,K))})),W(n,"readystatechange",ee)),E.picturefill=ue,E.fillImgs=ue,E.teardownRun=t,ue._=E,e.picturefillCFG={pf:E,push:function(e){var t=e.shift();"function"==typeof E[t]?E[t].apply(E,e):(z[t]=e[0],P&&E.fillImgs({reselect:!0}))}};for(;w&&w.length;)e.picturefillCFG.push(w.shift());e.picturefill=ue,"object"==typeof module&&"object"==typeof module.exports?module.exports=ue:"function"==typeof define&&define.amd&&define("picturefill",function(){return ue}),E.supPicture||(r["image/webp"]=(re="image/webp",ie="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(ne=new e.Image).onerror=function(){r[re]=!1,ue()},ne.onload=function(){r[re]=1===ne.width,ue()},ne.src=ie,"pending"))}(window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpY3R1cmVmaWxsLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsInRpbWVyIiwiZHVtbXlTcmMiLCJmaXhSZXNwaW1nIiwiZmluZFBpY3R1cmVJbWdzIiwib25SZXNpemUiLCJtcSIsImluaXQiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIkhUTUxQaWN0dXJlRWxlbWVudCIsInRlc3QiLCJtYXRjaCIsIlJlZ0V4cCIsIiQxIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImltZyIsInNvdXJjZSIsInNpemVzIiwicGljdHVyZSIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsInRvVXBwZXJDYXNlIiwiY2xvbmVOb2RlIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2hpbGQiLCJfcGZMYXN0U2l6ZSIsIm9mZnNldFdpZHRoIiwiaSIsImltZ3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiY2xlYXJUaW1lb3V0IiwibWF0Y2hNZWRpYSIsImFkZExpc3RlbmVyIiwic3Jjc2V0IiwicmVhZHlTdGF0ZSIsInVuZGVmaW5lZCIsImVtaW5weCIsImFsd2F5c0NoZWNrV0Rlc2NyaXB0b3IiLCJldmFsSWQiLCJwZiIsImlzU3VwcG9ydFRlc3RSZWFkeSIsIm5vb3AiLCJpbWFnZSIsImdldEltZ0F0dHIiLCJnZXRBdHRyaWJ1dGUiLCJzZXRJbWdBdHRyIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlSW1nQXR0ciIsInJlbW92ZUF0dHJpYnV0ZSIsImRvY0VsZW0iLCJkb2N1bWVudEVsZW1lbnQiLCJ0eXBlcyIsImNmZyIsImFsZ29yaXRobSIsInNyY0F0dHIiLCJzcmNzZXRBdHRyIiwic3VwcG9ydEFib3J0IiwiY3VyU3JjUHJvcCIsInJlZ1dEZXNjIiwicmVnU2l6ZSIsInNldE9wdGlvbnMiLCJwaWN0dXJlZmlsbENGRyIsImZzQ3NzIiwiaXNWd0RpcnR5IiwiY3NzQ2FjaGUiLCJzaXplTGVuZ3RoQ2FjaGUiLCJEUFIiLCJkZXZpY2VQaXhlbFJhdGlvIiwidW5pdHMiLCJweCIsImluIiwiYW5jaG9yIiwiYWxyZWFkeVJ1biIsInJlZ2V4TGVhZGluZ1NwYWNlcyIsInJlZ2V4TGVhZGluZ0NvbW1hc09yU3BhY2VzIiwicmVnZXhMZWFkaW5nTm90U3BhY2VzIiwicmVnZXhUcmFpbGluZ0NvbW1hcyIsInJlZ2V4Tm9uTmVnYXRpdmVJbnRlZ2VyIiwicmVnZXhGbG9hdGluZ1BvaW50Iiwib24iLCJvYmoiLCJldnQiLCJmbiIsImNhcHR1cmUiLCJhdHRhY2hFdmVudCIsIm1lbW9pemUiLCJjYWNoZSIsImlucHV0IiwiaXNTcGFjZSIsImMiLCJyZWdMZW5ndGgiLCJidWlsZFN0ciIsImltYWdlMiIsIndpZHRoMSIsImlzRG9tUmVhZHkiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJ0aW1lc3RhbXAiLCJsYXRlciIsInJlZ1JlYWR5IiwicnVuIiwidGltZXJJZCIsImxhc3RDbGllbnRXaWR0aCIsInR5cGUiLCJ0eXBlVXJpIiwiZXZhbENTUyIsImNzcyIsImFyZ3MiLCJhcmd1bWVudHMiLCJpbmRleCIsInN0cmluZyIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInBhcnNlZExlbmd0aCIsIkZ1bmN0aW9uIiwiZSIsInNldFJlc29sdXRpb24iLCJjYW5kaWRhdGUiLCJzaXplc2F0dHIiLCJ3IiwiY1dpZHRoIiwiY2FsY0xpc3RMZW5ndGgiLCJyZXMiLCJkIiwicGljdHVyZWZpbGwiLCJvcHQiLCJlbGVtZW50cyIsInBsZW4iLCJvcHRpb25zIiwibm9kZVR5cGUiLCJjb250ZXh0IiwicXNhIiwicmVldmFsdWF0ZSIsInJlc2VsZWN0Iiwic2VsIiwic2VsU2hvcnQiLCJzZXR1cFJ1biIsImZpbGxJbWciLCJ0ZWFyZG93blJ1biIsImFzY2VuZGluZ1NvcnQiLCJhIiwiYiIsImdldENhbmRpZGF0ZUZvclNyYyIsInNyYyIsInNldCIsImNhbmRpZGF0ZXMiLCJwYXJzZVNldCIsIm1ha2VVcmwiLCJ1cmwiLCJjb25zb2xlIiwid2FybiIsImltcGxlbWVudGF0aW9uIiwiaGFzRmVhdHVyZSIsIm5zIiwiRGF0ZSIsImdldFRpbWUiLCJzdWJzdHIiLCJzdXBTcmNzZXQiLCJzdXBTaXplcyIsInN1cFBpY3R1cmUiLCJjb21wbGV0ZSIsIndpZHRoIiwib25sb2FkIiwib25lcnJvciIsInUiLCJzZXRTaXplIiwiaHJlZiIsIm1hdGNoZXNNZWRpYSIsIm1hdGNoZXMiLCJtZWRpYSIsIm1NUSIsImFwcGx5IiwidGhpcyIsImNhbGNMZW5ndGgiLCJzb3VyY2VTaXplVmFsdWUiLCJ2YWx1ZSIsInN1cHBvcnRzVHlwZSIsInBhcnNlU2l6ZSIsInNvdXJjZVNpemVTdHIiLCJjYW5kcyIsImNvbGxlY3RDaGFyYWN0ZXJzIiwicmVnRXgiLCJjaGFycyIsImV4ZWMiLCJzdWJzdHJpbmciLCJwb3MiLCJkZXNjcmlwdG9ycyIsImN1cnJlbnREZXNjcmlwdG9yIiwic3RhdGUiLCJpbnB1dExlbmd0aCIsInBhcnNlRGVzY3JpcHRvcnMiLCJoIiwiZGVzYyIsImxhc3RDaGFyIiwiaW50VmFsIiwiZmxvYXRWYWwiLCJwRXJyb3IiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJoYXMxeCIsInB1c2giLCJ0b2tlbml6ZSIsImNoYXJBdCIsInNsaWNlIiwicGFyc2VTcmNzZXQiLCJnZXRFbVZhbHVlIiwiYm9keSIsImRpdiIsIm9yaWdpbmFsSFRNTENTUyIsInN0eWxlIiwiY3NzVGV4dCIsIm9yaWdpbmFsQm9keUNTUyIsImFwcGVuZENoaWxkIiwic291cmNlU2l6ZUxpc3RTdHIiLCJ1VCIsIndpbm5pbmdMZW5ndGgiLCJzdHJWYWx1ZSIsInVucGFyc2VkU2l6ZXNMaXN0IiwidW5wYXJzZWRTaXplc0xpc3RMZW5ndGgiLCJ1bnBhcnNlZFNpemUiLCJsYXN0Q29tcG9uZW50VmFsdWUiLCJzaXplIiwicyIsInJlZ2V4Q3NzTGVuZ3RoV2l0aFVuaXRzIiwicmVnZXhDc3NDYWxjIiwic3RyIiwiY2hyY3RyIiwiY29tcG9uZW50IiwiY29tcG9uZW50QXJyYXkiLCJsaXN0QXJyYXkiLCJwYXJlbkRlcHRoIiwiaW5Db21tZW50IiwicHVzaENvbXBvbmVudCIsInB1c2hDb21wb25lbnRBcnJheSIsInBhcnNlQ29tcG9uZW50VmFsdWVzIiwicG9wIiwiam9pbiIsInBhcnNlU2l6ZXMiLCJzZXRSZXMiLCJsZW4iLCJhcHBseVNldENhbmRpZGF0ZSIsImoiLCJiZXN0Q2FuZGlkYXRlIiwiY3VyU3JjIiwiY3VyQ2FuIiwiY2FuZGlkYXRlU3JjIiwiYWJvcnRDdXJTcmMiLCJsb3dlclZhbHVlIiwiaGlnaGVyVmFsdWUiLCJkcHJWYWx1ZSIsImlzQ2FjaGVkIiwiYm9udXNGYWN0b3IiLCJib251cyIsImltYWdlRGF0YSIsImRwciIsInNldHMiLCJjYWNoZWQiLCJzb3J0IiwiTWF0aCIsInBvdyIsInNxcnQiLCJzZXRTcmMiLCJvcmlnV2lkdGgiLCJnZXRTZXQiLCJwYXJzZVNldHMiLCJlbGVtZW50IiwicGFyZW50Iiwic3Jjc2V0QXR0cmlidXRlIiwiaW1hZ2VTZXQiLCJpc1dEZXNjcmlwb3IiLCJzcmNzZXRQYXJzZWQiLCJoYXNQaWN0dXJlIiwiY2FsbCIsInBpYyIsInNvdXJjZXMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldEFsbFNvdXJjZUVsZW1lbnRzIiwic3VwcG9ydGVkIiwicGFyc2VkIiwic3JjU2V0Q2FuZGlkYXRlcyIsIm1hdGNoaW5nU2V0IiwiZXZhbHVhdGVkIiwiZXh0cmVtZSIsImV2YWxlZCIsIm1heCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwidnciLCJ2aCIsImVtIiwicmVtIiwiZmlsbEltZ3MiLCJsYXN0IiwiXyIsIm5hbWUiLCJzaGlmdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZpbmUiLCJhbWQiLCJJbWFnZSJdLCJtYXBwaW5ncyI6IkNBVUEsU0FBVUEsR0FFUixJQUlRQyxFQUVBQyxFQUVBQyxFQXFCQUMsRUFPQUMsRUFJ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QUNiLElBQUk4TCxFQUFPOUwsRUFBSytMLFFBQ1EsbUJBQWJwUSxFQUFHbVEsR0FDWm5RLEVBQUdtUSxHQUFNOUgsTUFBTXJJLEVBQUlxRSxJQUVuQnhELEVBQUlzUCxHQUFROUwsRUFBSyxHQUNicEMsR0FDRmpDLEVBQUdnUSxTQUFVLENBQUVqSyxVQUFVLE9BTWpDLEtBQU8xRSxHQUFjQSxFQUFXL0IsUUFDOUJwQyxFQUFPb0UsZUFBZTRJLEtBQUs3SSxFQUFXK08sU0FJeENsVCxFQUFPb0ksWUFBY0EsR0FHRSxpQkFBWCtLLFFBQWlELGlCQUFuQkEsT0FBT0MsUUFFL0NELE9BQU9DLFFBQVVoTCxHQUNXLG1CQUFYaUwsUUFBeUJBLE9BQU9DLEtBRWpERCxPQUFRLGNBQWUsV0FBYSxPQUFPakwsS0FJdkN0RixFQUFHeUgsYUFDUDdHLEVBQU8sZUE1c0NtQnFELEdBNHNDZ0IsYUE1c0NWQyxHQTRzQ3dCLDJJQXpzQ3BEL0QsR0FBUSxJQUFJakQsRUFBT3VULE9BQ2pCNUksUUFBVSxXQUNkakgsRUFBT3FELEtBQVMsRUFDaEJxQixNQUVGbkYsR0FBTXlILE9BQVMsV0FDYmhILEVBQU9xRCxJQUF5QixJQUFoQjlELEdBQU13SCxNQUN0QnJDLE1BRUZuRixHQUFNc0csSUFBTXZDLEdBQ0wsWUF0UFgsQ0F3N0NLaEgsT0FBUWlCIiwiZmlsZSI6InBpY3R1cmVmaWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG4vKiEgcGljdHVyZWZpbGwgLSB2My4wLjIgLSAyMDE2LTAyLTEyXG4gKiBodHRwczovL3Njb3R0amVobC5naXRodWIuaW8vcGljdHVyZWZpbGwvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDsgTGljZW5zZWQgTUlUXG4gKi9cbi8qISBHZWNrby1QaWN0dXJlIC0gdjEuMFxuICogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC90cmVlLzMuMC9zcmMvcGx1Z2lucy9nZWNrby1waWN0dXJlXG4gKiBGaXJlZm94J3MgZWFybHkgcGljdHVyZSBpbXBsZW1lbnRhdGlvbiAocHJpb3IgdG8gRkY0MSkgaXMgc3RhdGljIGFuZCBkb2VzXG4gKiBub3QgcmVhY3QgdG8gdmlld3BvcnQgY2hhbmdlcy4gVGhpcyB0aW55IG1vZHVsZSBmaXhlcyB0aGlzLlxuICovXG4oZnVuY3Rpb24od2luZG93KSB7XG4gIC8qanNoaW50IGVxbnVsbDp0cnVlICovXG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKCB3aW5kb3cuSFRNTFBpY3R1cmVFbGVtZW50ICYmICgoL2Vja28vKS50ZXN0KHVhKSAmJiB1YS5tYXRjaCgvcnZcXDooXFxkKykvKSAmJiBSZWdFeHAuJDEgPCA0NSkgKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGltZXI7XG5cbiAgICAgIHZhciBkdW1teVNyYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7XG5cbiAgICAgIHZhciBmaXhSZXNwaW1nID0gZnVuY3Rpb24oaW1nKSB7XG4gICAgICAgIHZhciBzb3VyY2UsIHNpemVzO1xuICAgICAgICB2YXIgcGljdHVyZSA9IGltZy5wYXJlbnROb2RlO1xuXG4gICAgICAgIGlmIChwaWN0dXJlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiUElDVFVSRVwiKSB7XG4gICAgICAgICAgc291cmNlID0gZHVtbXlTcmMuY2xvbmVOb2RlKCk7XG5cbiAgICAgICAgICBwaWN0dXJlLmluc2VydEJlZm9yZShzb3VyY2UsIHBpY3R1cmUuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwaWN0dXJlLnJlbW92ZUNoaWxkKHNvdXJjZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWltZy5fcGZMYXN0U2l6ZSB8fCBpbWcub2Zmc2V0V2lkdGggPiBpbWcuX3BmTGFzdFNpemUpIHtcbiAgICAgICAgICBpbWcuX3BmTGFzdFNpemUgPSBpbWcub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgc2l6ZXMgPSBpbWcuc2l6ZXM7XG4gICAgICAgICAgaW1nLnNpemVzICs9IFwiLDEwMHZ3XCI7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGltZy5zaXplcyA9IHNpemVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgZmluZFBpY3R1cmVJbWdzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgaW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwaWN0dXJlID4gaW1nLCBpbWdbc3Jjc2V0XVtzaXplc11cIik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZml4UmVzcGltZyhpbWdzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZmluZFBpY3R1cmVJbWdzLCA5OSk7XG4gICAgICB9O1xuICAgICAgdmFyIG1xID0gd2luZG93Lm1hdGNoTWVkaWEgJiYgbWF0Y2hNZWRpYShcIihvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKTtcbiAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9uUmVzaXplKCk7XG5cbiAgICAgICAgaWYgKG1xICYmIG1xLmFkZExpc3RlbmVyKSB7XG4gICAgICAgICAgbXEuYWRkTGlzdGVuZXIob25SZXNpemUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBkdW1teVNyYy5zcmNzZXQgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCI7XG5cbiAgICAgIGlmICgvXltjfGldfGQkLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUgfHwgXCJcIikpIHtcbiAgICAgICAgaW5pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgaW5pdCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvblJlc2l6ZTtcbiAgICB9KSgpKTtcbiAgfVxufSkod2luZG93KTtcblxuLyohIFBpY3R1cmVmaWxsIC0gdjMuMC4yXG4gKiBodHRwOi8vc2NvdHRqZWhsLmdpdGh1Yi5pby9waWN0dXJlZmlsbFxuICogQ29weXJpZ2h0IChjKSAyMDE1IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGplaGwvcGljdHVyZWZpbGwvYmxvYi9tYXN0ZXIvQXV0aG9ycy50eHQ7XG4gKiAgTGljZW5zZTogTUlUXG4gKi9cblxuKGZ1bmN0aW9uKCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7XG4gIC8vIEVuYWJsZSBzdHJpY3QgbW9kZVxuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBIVE1MIHNoaW18diBpdCBmb3Igb2xkIElFIChJRTkgd2lsbCBzdGlsbCBuZWVkIHRoZSBIVE1MIHZpZGVvIHRhZyB3b3JrYXJvdW5kKVxuICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInBpY3R1cmVcIiApO1xuXG4gIHZhciB3YXJuLCBlbWlucHgsIGFsd2F5c0NoZWNrV0Rlc2NyaXB0b3IsIGV2YWxJZDtcbiAgLy8gbG9jYWwgb2JqZWN0IGZvciBtZXRob2QgcmVmZXJlbmNlcyBhbmQgdGVzdGluZyBleHBvc3VyZVxuICB2YXIgcGYgPSB7fTtcbiAgdmFyIGlzU3VwcG9ydFRlc3RSZWFkeSA9IGZhbHNlO1xuICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCkge307XG4gIHZhciBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW1nXCIgKTtcbiAgdmFyIGdldEltZ0F0dHIgPSBpbWFnZS5nZXRBdHRyaWJ1dGU7XG4gIHZhciBzZXRJbWdBdHRyID0gaW1hZ2Uuc2V0QXR0cmlidXRlO1xuICB2YXIgcmVtb3ZlSW1nQXR0ciA9IGltYWdlLnJlbW92ZUF0dHJpYnV0ZTtcbiAgdmFyIGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciB0eXBlcyA9IHt9O1xuICB2YXIgY2ZnID0ge1xuICAgIC8vcmVzb3VyY2Ugc2VsZWN0aW9uOlxuICAgIGFsZ29yaXRobTogXCJcIlxuICB9O1xuICB2YXIgc3JjQXR0ciA9IFwiZGF0YS1wZnNyY1wiO1xuICB2YXIgc3Jjc2V0QXR0ciA9IHNyY0F0dHIgKyBcInNldFwiO1xuICAvLyB1YSBzbmlmZmluZyBpcyBkb25lIGZvciB1bmRldGVjdGFibGUgaW1nIGxvYWRpbmcgZmVhdHVyZXMsXG4gIC8vIHRvIGRvIHNvbWUgbm9uIGNydWNpYWwgcGVyZiBvcHRpbWl6YXRpb25zXG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHZhciBzdXBwb3J0QWJvcnQgPSAoL3JpZGVudC8pLnRlc3QodWEpIHx8ICgoL2Vja28vKS50ZXN0KHVhKSAmJiB1YS5tYXRjaCgvcnZcXDooXFxkKykvKSAmJiBSZWdFeHAuJDEgPiAzNSApO1xuICB2YXIgY3VyU3JjUHJvcCA9IFwiY3VycmVudFNyY1wiO1xuICB2YXIgcmVnV0Rlc2MgPSAvXFxzK1xcKz9cXGQrKGVcXGQrKT93LztcbiAgdmFyIHJlZ1NpemUgPSAvKFxcKFteKV0rXFwpKT9cXHMqKC4rKS87XG4gIHZhciBzZXRPcHRpb25zID0gd2luZG93LnBpY3R1cmVmaWxsQ0ZHO1xuICAvKipcbiAgICogU2hvcnRjdXQgcHJvcGVydHkgZm9yIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJhcHBzZWMvc3BlY3MvbWl4ZWRjb250ZW50LyNyZXN0cmljdHMtbWl4ZWQtY29udGVudCAoIGZvciBlYXN5IG92ZXJyaWRpbmcgaW4gdGVzdHMgKVxuICAgKi9cbiAgLy8gYmFzZVN0eWxlIGFsc28gdXNlZCBieSBnZXRFbVZhbHVlIChpLmUuOiB3aWR0aDogMWVtIGlzIGltcG9ydGFudClcbiAgdmFyIGJhc2VTdHlsZSA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3Zpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7cGFkZGluZzowO2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxZW07d2lkdGg6MWVtO292ZXJmbG93OmhpZGRlbjtjbGlwOnJlY3QoMHB4LCAwcHgsIDBweCwgMHB4KVwiO1xuICB2YXIgZnNDc3MgPSBcImZvbnQtc2l6ZToxMDAlIWltcG9ydGFudDtcIjtcbiAgdmFyIGlzVndEaXJ0eSA9IHRydWU7XG5cbiAgdmFyIGNzc0NhY2hlID0ge307XG4gIHZhciBzaXplTGVuZ3RoQ2FjaGUgPSB7fTtcbiAgdmFyIERQUiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICB2YXIgdW5pdHMgPSB7XG4gICAgcHg6IDEsXG4gICAgXCJpblwiOiA5NlxuICB9O1xuICB2YXIgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcbiAgLyoqXG4gICAqIGFscmVhZHlSdW4gZmxhZyB1c2VkIGZvciBzZXRPcHRpb25zLiBpcyBpdCB0cnVlIHNldE9wdGlvbnMgd2lsbCByZWV2YWx1YXRlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdmFyIGFscmVhZHlSdW4gPSBmYWxzZTtcblxuICAvLyBSZXVzYWJsZSwgbm9uLVwiZ1wiIFJlZ2V4ZXNcblxuICAvLyAoRG9uJ3QgdXNlIFxccywgdG8gYXZvaWQgbWF0Y2hpbmcgbm9uLWJyZWFraW5nIHNwYWNlLilcbiAgdmFyIHJlZ2V4TGVhZGluZ1NwYWNlcyA9IC9eWyBcXHRcXG5cXHJcXHUwMDBjXSsvLFxuICAgICAgcmVnZXhMZWFkaW5nQ29tbWFzT3JTcGFjZXMgPSAvXlssIFxcdFxcblxcclxcdTAwMGNdKy8sXG4gICAgICByZWdleExlYWRpbmdOb3RTcGFjZXMgPSAvXlteIFxcdFxcblxcclxcdTAwMGNdKy8sXG4gICAgICByZWdleFRyYWlsaW5nQ29tbWFzID0gL1ssXSskLyxcbiAgICAgIHJlZ2V4Tm9uTmVnYXRpdmVJbnRlZ2VyID0gL15cXGQrJC8sXG5cbiAgICAgIC8vICggUG9zaXRpdmUgb3IgbmVnYXRpdmUgb3IgdW5zaWduZWQgaW50ZWdlcnMgb3IgZGVjaW1hbHMsIHdpdGhvdXQgb3Igd2l0aG91dCBleHBvbmVudHMuXG4gICAgICAvLyBNdXN0IGluY2x1ZGUgYXQgbGVhc3Qgb25lIGRpZ2l0LlxuICAgICAgLy8gQWNjb3JkaW5nIHRvIHNwZWMgdGVzdHMgYW55IGRlY2ltYWwgcG9pbnQgbXVzdCBiZSBmb2xsb3dlZCBieSBhIGRpZ2l0LlxuICAgICAgLy8gTm8gbGVhZGluZyBwbHVzIHNpZ24gaXMgYWxsb3dlZC4pXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmZyYXN0cnVjdHVyZS5odG1sI3ZhbGlkLWZsb2F0aW5nLXBvaW50LW51bWJlclxuICAgICAgcmVnZXhGbG9hdGluZ1BvaW50ID0gL14tPyg/OlswLTldK3xbMC05XSpcXC5bMC05XSspKD86W2VFXVsrLV0/WzAtOV0rKT8kLztcblxuICB2YXIgb24gPSBmdW5jdGlvbihvYmosIGV2dCwgZm4sIGNhcHR1cmUpIHtcbiAgICBpZiAoIG9iai5hZGRFdmVudExpc3RlbmVyICkge1xuICAgICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBmbiwgY2FwdHVyZSB8fCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmICggb2JqLmF0dGFjaEV2ZW50ICkge1xuICAgICAgb2JqLmF0dGFjaEV2ZW50KCBcIm9uXCIgKyBldnQsIGZuKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIHNpbXBsZSBtZW1vaXplIGZ1bmN0aW9uOlxuICAgKi9cblxuICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIGNhY2hlID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICBpZiAoICEoaW5wdXQgaW4gY2FjaGUpICkge1xuICAgICAgICBjYWNoZVsgaW5wdXQgXSA9IGZuKGlucHV0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWNoZVsgaW5wdXQgXTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFVUSUxJVFkgRlVOQ1RJT05TXG5cbiAgLy8gTWFudWFsIGlzIGZhc3RlciB0aGFuIFJlZ0V4XG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3doaXRlc3BhY2UtY2hhcmFjdGVyLzVcbiAgZnVuY3Rpb24gaXNTcGFjZShjKSB7XG4gICAgcmV0dXJuIChjID09PSBcIlxcdTAwMjBcIiB8fCAvLyBzcGFjZVxuICAgICAgICAgICAgYyA9PT0gXCJcXHUwMDA5XCIgfHwgLy8gaG9yaXpvbnRhbCB0YWJcbiAgICAgICAgICAgIGMgPT09IFwiXFx1MDAwQVwiIHx8IC8vIG5ldyBsaW5lXG4gICAgICAgICAgICBjID09PSBcIlxcdTAwMENcIiB8fCAvLyBmb3JtIGZlZWRcbiAgICAgICAgICAgIGMgPT09IFwiXFx1MDAwRFwiKTsgIC8vIGNhcnJpYWdlIHJldHVyblxuICB9XG5cbiAgLyoqXG4gICAqIGdldHMgYSBtZWRpYXF1ZXJ5IGFuZCByZXR1cm5zIGEgYm9vbGVhbiBvciBnZXRzIGEgY3NzIGxlbmd0aCBhbmQgcmV0dXJucyBhIG51bWJlclxuICAgKiBAcGFyYW0gY3NzIG1lZGlhcXVlcmllcyBvciBjc3MgbGVuZ3RoXG4gICAqIEByZXR1cm5zIHtib29sZWFufG51bWJlcn1cbiAgICpcbiAgICogYmFzZWQgb246IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2pvbmF0aGFudG5lYWwvZGI0Zjc3MDA5YjE1NWYwODM3MzhcbiAgICovXG4gIHZhciBldmFsQ1NTID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIHJlZ0xlbmd0aCA9IC9eKFtcXGRcXC5dKykoZW18dnd8cHgpJC87XG4gICAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLCBpbmRleCA9IDAsIHN0cmluZyA9IGFyZ3NbMF07XG4gICAgICB3aGlsZSAoKytpbmRleCBpbiBhcmdzKSB7XG4gICAgICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKGFyZ3NbaW5kZXhdLCBhcmdzWysraW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgfTtcblxuICAgIHZhciBidWlsZFN0ciA9IG1lbW9pemUoZnVuY3Rpb24oY3NzKSB7XG5cbiAgICAgIHJldHVybiBcInJldHVybiBcIiArIHJlcGxhY2UoKGNzcyB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAvLyBpbnRlcnByZXQgYGFuZGBcbiAgICAgICAgL1xcYmFuZFxcYi9nLCBcIiYmXCIsXG5cbiAgICAgICAgLy8gaW50ZXJwcmV0IGAsYFxuICAgICAgICAvLC9nLCBcInx8XCIsXG5cbiAgICAgICAgLy8gaW50ZXJwcmV0IGBtaW4tYCBhcyA+PVxuICAgICAgICAvbWluLShbYS16LVxcc10rKTovZywgXCJlLiQxPj1cIixcblxuICAgICAgICAvLyBpbnRlcnByZXQgYG1heC1gIGFzIDw9XG4gICAgICAgIC9tYXgtKFthLXotXFxzXSspOi9nLCBcImUuJDE8PVwiLFxuXG4gICAgICAgIC8vY2FsYyB2YWx1ZVxuICAgICAgICAvY2FsYyhbXildKykvZywgXCIoJDEpXCIsXG5cbiAgICAgICAgLy8gaW50ZXJwcmV0IGNzcyB2YWx1ZXNcbiAgICAgICAgLyhcXGQrW1xcLl0qW1xcZF0qKShbYS16XSspL2csIFwiKCQxICogZS4kMilcIixcbiAgICAgICAgLy9tYWtlIGV2YWwgbGVzcyBldmlsXG4gICAgICAgIC9eKD8hKGUuW2Etel18WzAtOVxcLiY9fD48XFwrXFwtXFwqXFwoXFwpXFwvXSkpLiovaWcsIFwiXCJcbiAgICAgICkgKyBcIjtcIjtcbiAgICB9KTtcblxuICAgIHJldHVybiBmdW5jdGlvbihjc3MsIGxlbmd0aCkge1xuICAgICAgdmFyIHBhcnNlZExlbmd0aDtcbiAgICAgIGlmICghKGNzcyBpbiBjc3NDYWNoZSkpIHtcbiAgICAgICAgY3NzQ2FjaGVbY3NzXSA9IGZhbHNlO1xuICAgICAgICBpZiAobGVuZ3RoICYmIChwYXJzZWRMZW5ndGggPSBjc3MubWF0Y2goIHJlZ0xlbmd0aCApKSkge1xuICAgICAgICAgIGNzc0NhY2hlW2Nzc10gPSBwYXJzZWRMZW5ndGhbIDEgXSAqIHVuaXRzW3BhcnNlZExlbmd0aFsgMiBdXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKmpzaGludCBldmlsOnRydWUgKi9cbiAgICAgICAgICB0cnl7XG4gICAgICAgICAgICBjc3NDYWNoZVtjc3NdID0gbmV3IEZ1bmN0aW9uKFwiZVwiLCBidWlsZFN0cihjc3MpKSh1bml0cyk7XG4gICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICAgIC8qanNoaW50IGV2aWw6ZmFsc2UgKi9cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNzc0NhY2hlW2Nzc107XG4gICAgfTtcbiAgfSkoKTtcblxuICB2YXIgc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uKCBjYW5kaWRhdGUsIHNpemVzYXR0ciApIHtcbiAgICBpZiAoIGNhbmRpZGF0ZS53ICkgeyAvLyBoID0gbWVhbnMgaGVpZ2h0OiB8fCBkZXNjcmlwdG9yLnR5cGUgPT09ICdoJyBkbyBub3QgaGFuZGxlIHlldC4uLlxuICAgICAgY2FuZGlkYXRlLmNXaWR0aCA9IHBmLmNhbGNMaXN0TGVuZ3RoKCBzaXplc2F0dHIgfHwgXCIxMDB2d1wiICk7XG4gICAgICBjYW5kaWRhdGUucmVzID0gY2FuZGlkYXRlLncgLyBjYW5kaWRhdGUuY1dpZHRoIDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuZGlkYXRlLnJlcyA9IGNhbmRpZGF0ZS5kO1xuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gb3B0XG4gICAqL1xuICB2YXIgcGljdHVyZWZpbGwgPSBmdW5jdGlvbiggb3B0ICkge1xuXG4gICAgaWYgKCFpc1N1cHBvcnRUZXN0UmVhZHkpIHtyZXR1cm47fVxuXG4gICAgdmFyIGVsZW1lbnRzLCBpLCBwbGVuO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBvcHQgfHwge307XG5cbiAgICBpZiAoIG9wdGlvbnMuZWxlbWVudHMgJiYgb3B0aW9ucy5lbGVtZW50cy5ub2RlVHlwZSA9PT0gMSApIHtcbiAgICAgIGlmICggb3B0aW9ucy5lbGVtZW50cy5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIklNR1wiICkge1xuICAgICAgICBvcHRpb25zLmVsZW1lbnRzID0gIFsgb3B0aW9ucy5lbGVtZW50cyBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy5jb250ZXh0ID0gb3B0aW9ucy5lbGVtZW50cztcbiAgICAgICAgb3B0aW9ucy5lbGVtZW50cyA9ICBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsZW1lbnRzID0gb3B0aW9ucy5lbGVtZW50cyB8fCBwZi5xc2EoIChvcHRpb25zLmNvbnRleHQgfHwgZG9jdW1lbnQpLCAoIG9wdGlvbnMucmVldmFsdWF0ZSB8fCBvcHRpb25zLnJlc2VsZWN0ICkgPyBwZi5zZWwgOiBwZi5zZWxTaG9ydCApO1xuXG4gICAgaWYgKCAocGxlbiA9IGVsZW1lbnRzLmxlbmd0aCkgKSB7XG5cbiAgICAgIHBmLnNldHVwUnVuKCBvcHRpb25zICk7XG4gICAgICBhbHJlYWR5UnVuID0gdHJ1ZTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBlbGVtZW50c1xuICAgICAgZm9yICggaSA9IDA7IGkgPCBwbGVuOyBpKysgKSB7XG4gICAgICAgIHBmLmZpbGxJbWcoZWxlbWVudHNbIGkgXSwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHBmLnRlYXJkb3duUnVuKCBvcHRpb25zICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBvdXRwdXRzIGEgd2FybmluZyBmb3IgdGhlIGRldmVsb3BlclxuICAgKiBAcGFyYW0ge21lc3NhZ2V9XG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICovXG4gIHdhcm4gPSAoIHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUud2FybiApID9cbiAgICBmdW5jdGlvbiggbWVzc2FnZSApIHtcbiAgICAgIGNvbnNvbGUud2FybiggbWVzc2FnZSApO1xuICAgIH0gOlxuICAgIG5vb3BcbiAgO1xuXG4gIGlmICggIShjdXJTcmNQcm9wIGluIGltYWdlKSApIHtcbiAgICBjdXJTcmNQcm9wID0gXCJzcmNcIjtcbiAgfVxuXG4gIC8vIEFkZCBzdXBwb3J0IGZvciBzdGFuZGFyZCBtaW1lIHR5cGVzLlxuICB0eXBlc1sgXCJpbWFnZS9qcGVnXCIgXSA9IHRydWU7XG4gIHR5cGVzWyBcImltYWdlL2dpZlwiIF0gPSB0cnVlO1xuICB0eXBlc1sgXCJpbWFnZS9wbmdcIiBdID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBkZXRlY3RUeXBlU3VwcG9ydCggdHlwZSwgdHlwZVVyaSApIHtcbiAgICAvLyBiYXNlZCBvbiBNb2Rlcm5penIncyBsb3NzbGVzcyBpbWctd2VicCB0ZXN0XG4gICAgLy8gbm90ZTogYXN5bmNocm9ub3VzXG4gICAgdmFyIGltYWdlID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xuICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHR5cGVzWyB0eXBlIF0gPSBmYWxzZTtcbiAgICAgIHBpY3R1cmVmaWxsKCk7XG4gICAgfTtcbiAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHR5cGVzWyB0eXBlIF0gPSBpbWFnZS53aWR0aCA9PT0gMTtcbiAgICAgIHBpY3R1cmVmaWxsKCk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSB0eXBlVXJpO1xuICAgIHJldHVybiBcInBlbmRpbmdcIjtcbiAgfVxuXG4gIC8vIHRlc3Qgc3ZnIHN1cHBvcnRcbiAgdHlwZXNbIFwiaW1hZ2Uvc3ZnK3htbFwiIF0gPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCBcImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjSW1hZ2VcIiwgXCIxLjFcIiApO1xuXG4gIC8qKlxuICAgKiB1cGRhdGVzIHRoZSBpbnRlcm5hbCB2VyBwcm9wZXJ0eSB3aXRoIHRoZSBjdXJyZW50IHZpZXdwb3J0IHdpZHRoIGluIHB4XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVNZXRyaWNzKCkge1xuXG4gICAgaXNWd0RpcnR5ID0gZmFsc2U7XG4gICAgRFBSID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgY3NzQ2FjaGUgPSB7fTtcbiAgICBzaXplTGVuZ3RoQ2FjaGUgPSB7fTtcblxuICAgIHBmLkRQUiA9IERQUiB8fCAxO1xuXG4gICAgdW5pdHMud2lkdGggPSBNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCB8fCAwLCBkb2NFbGVtLmNsaWVudFdpZHRoKTtcbiAgICB1bml0cy5oZWlnaHQgPSBNYXRoLm1heCh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCwgZG9jRWxlbS5jbGllbnRIZWlnaHQpO1xuXG4gICAgdW5pdHMudncgPSB1bml0cy53aWR0aCAvIDEwMDtcbiAgICB1bml0cy52aCA9IHVuaXRzLmhlaWdodCAvIDEwMDtcblxuICAgIGV2YWxJZCA9IFsgdW5pdHMuaGVpZ2h0LCB1bml0cy53aWR0aCwgRFBSIF0uam9pbihcIi1cIik7XG5cbiAgICB1bml0cy5lbSA9IHBmLmdldEVtVmFsdWUoKTtcbiAgICB1bml0cy5yZW0gPSB1bml0cy5lbTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNob29zZUxvd1JlcyggbG93ZXJWYWx1ZSwgaGlnaGVyVmFsdWUsIGRwclZhbHVlLCBpc0NhY2hlZCApIHtcbiAgICB2YXIgYm9udXNGYWN0b3IsIHRvb011Y2gsIGJvbnVzLCBtZWFuRGVuc2l0eTtcblxuICAgIC8vZXhwZXJpbWVudGFsXG4gICAgaWYgKGNmZy5hbGdvcml0aG0gPT09IFwic2F2ZURhdGFcIiApe1xuICAgICAgaWYgKCBsb3dlclZhbHVlID4gMi43ICkge1xuICAgICAgICBtZWFuRGVuc2l0eSA9IGRwclZhbHVlICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvb011Y2ggPSBoaWdoZXJWYWx1ZSAtIGRwclZhbHVlO1xuICAgICAgICBib251c0ZhY3RvciA9IE1hdGgucG93KGxvd2VyVmFsdWUgLSAwLjYsIDEuNSk7XG5cbiAgICAgICAgYm9udXMgPSB0b29NdWNoICogYm9udXNGYWN0b3I7XG5cbiAgICAgICAgaWYgKGlzQ2FjaGVkKSB7XG4gICAgICAgICAgYm9udXMgKz0gMC4xICogYm9udXNGYWN0b3I7XG4gICAgICAgIH1cblxuICAgICAgICBtZWFuRGVuc2l0eSA9IGxvd2VyVmFsdWUgKyBib251cztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWVhbkRlbnNpdHkgPSAoZHByVmFsdWUgPiAxKSA/XG4gICAgICAgIE1hdGguc3FydChsb3dlclZhbHVlICogaGlnaGVyVmFsdWUpIDpcbiAgICAgICAgbG93ZXJWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVhbkRlbnNpdHkgPiBkcHJWYWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5QmVzdENhbmRpZGF0ZSggaW1nICkge1xuICAgIHZhciBzcmNTZXRDYW5kaWRhdGVzO1xuICAgIHZhciBtYXRjaGluZ1NldCA9IHBmLmdldFNldCggaW1nICk7XG4gICAgdmFyIGV2YWx1YXRlZCA9IGZhbHNlO1xuICAgIGlmICggbWF0Y2hpbmdTZXQgIT09IFwicGVuZGluZ1wiICkge1xuICAgICAgZXZhbHVhdGVkID0gZXZhbElkO1xuICAgICAgaWYgKCBtYXRjaGluZ1NldCApIHtcbiAgICAgICAgc3JjU2V0Q2FuZGlkYXRlcyA9IHBmLnNldFJlcyggbWF0Y2hpbmdTZXQgKTtcbiAgICAgICAgcGYuYXBwbHlTZXRDYW5kaWRhdGUoIHNyY1NldENhbmRpZGF0ZXMsIGltZyApO1xuICAgICAgfVxuICAgIH1cbiAgICBpbWdbIHBmLm5zIF0uZXZhbGVkID0gZXZhbHVhdGVkO1xuICB9XG5cbiAgZnVuY3Rpb24gYXNjZW5kaW5nU29ydCggYSwgYiApIHtcbiAgICByZXR1cm4gYS5yZXMgLSBiLnJlcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNyY1RvQ3VyKCBpbWcsIHNyYywgc2V0ICkge1xuICAgIHZhciBjYW5kaWRhdGU7XG4gICAgaWYgKCAhc2V0ICYmIHNyYyApIHtcbiAgICAgIHNldCA9IGltZ1sgcGYubnMgXS5zZXRzO1xuICAgICAgc2V0ID0gc2V0ICYmIHNldFtzZXQubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgY2FuZGlkYXRlID0gZ2V0Q2FuZGlkYXRlRm9yU3JjKHNyYywgc2V0KTtcblxuICAgIGlmICggY2FuZGlkYXRlICkge1xuICAgICAgc3JjID0gcGYubWFrZVVybChzcmMpO1xuICAgICAgaW1nWyBwZi5ucyBdLmN1clNyYyA9IHNyYztcbiAgICAgIGltZ1sgcGYubnMgXS5jdXJDYW4gPSBjYW5kaWRhdGU7XG5cbiAgICAgIGlmICggIWNhbmRpZGF0ZS5yZXMgKSB7XG4gICAgICAgIHNldFJlc29sdXRpb24oIGNhbmRpZGF0ZSwgY2FuZGlkYXRlLnNldC5zaXplcyApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q2FuZGlkYXRlRm9yU3JjKCBzcmMsIHNldCApIHtcbiAgICB2YXIgaSwgY2FuZGlkYXRlLCBjYW5kaWRhdGVzO1xuICAgIGlmICggc3JjICYmIHNldCApIHtcbiAgICAgIGNhbmRpZGF0ZXMgPSBwZi5wYXJzZVNldCggc2V0ICk7XG4gICAgICBzcmMgPSBwZi5tYWtlVXJsKHNyYyk7XG4gICAgICBmb3IgKCBpID0gMDsgaSA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIGlmICggc3JjID09PSBwZi5tYWtlVXJsKGNhbmRpZGF0ZXNbIGkgXS51cmwpICkge1xuICAgICAgICAgIGNhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbIGkgXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QWxsU291cmNlRWxlbWVudHMoIHBpY3R1cmUsIGNhbmRpZGF0ZXMgKSB7XG4gICAgdmFyIGksIGxlbiwgc291cmNlLCBzcmNzZXQ7XG5cbiAgICAvLyBTUEVDIG1pc21hdGNoIGludGVuZGVkIGZvciBzaXplIGFuZCBwZXJmOlxuICAgIC8vIGFjdHVhbGx5IG9ubHkgc291cmNlIGVsZW1lbnRzIHByZWNlZGluZyB0aGUgaW1nIHNob3VsZCBiZSB1c2VkXG4gICAgLy8gYWxzbyBub3RlOiBkb24ndCB1c2UgcXNhIGhlcmUsIGJlY2F1c2UgSUU4IHNvbWV0aW1lcyBkb2Vzbid0IGxpa2Ugc291cmNlIGFzIHRoZSBrZXkgcGFydCBpbiBhIHNlbGVjdG9yXG4gICAgdmFyIHNvdXJjZXMgPSBwaWN0dXJlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInNvdXJjZVwiICk7XG5cbiAgICBmb3IgKCBpID0gMCwgbGVuID0gc291cmNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIHNvdXJjZSA9IHNvdXJjZXNbIGkgXTtcbiAgICAgIHNvdXJjZVsgcGYubnMgXSA9IHRydWU7XG4gICAgICBzcmNzZXQgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKCBcInNyY3NldFwiICk7XG5cbiAgICAgIC8vIGlmIHNvdXJjZSBkb2VzIG5vdCBoYXZlIGEgc3Jjc2V0IGF0dHJpYnV0ZSwgc2tpcFxuICAgICAgaWYgKCBzcmNzZXQgKSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaCgge1xuICAgICAgICAgIHNyY3NldDogc3Jjc2V0LFxuICAgICAgICAgIG1lZGlhOiBzb3VyY2UuZ2V0QXR0cmlidXRlKCBcIm1lZGlhXCIgKSxcbiAgICAgICAgICB0eXBlOiBzb3VyY2UuZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApLFxuICAgICAgICAgIHNpemVzOiBzb3VyY2UuZ2V0QXR0cmlidXRlKCBcInNpemVzXCIgKVxuICAgICAgICB9ICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNyY3NldCBQYXJzZXJcbiAgICogQnkgQWxleCBCZWxsIHwgIE1JVCBMaWNlbnNlXG4gICAqXG4gICAqIEByZXR1cm5zIEFycmF5IFt7dXJsOiBfLCBkOiBfLCB3OiBfLCBoOl8sIHNldDpfKD8/Pz8pfSwgLi4uXVxuICAgKlxuICAgKiBCYXNlZCBzdXBlciBkdXBlciBjbG9zZWx5IG9uIHRoZSByZWZlcmVuY2UgYWxnb3JpdGhtIGF0OlxuICAgKiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjcGFyc2UtYS1zcmNzZXQtYXR0cmlidXRlXG4gICAqL1xuXG4gIC8vIDEuIExldCBpbnB1dCBiZSB0aGUgdmFsdWUgcGFzc2VkIHRvIHRoaXMgYWxnb3JpdGhtLlxuICAvLyAoVE8tRE8gOiBFeHBsYWluIHdoYXQgXCJzZXRcIiBhcmd1bWVudCBpcyBoZXJlLiBNYXliZSBjaG9vc2UgYSBtb3JlXG4gIC8vIGRlc2NyaXB0aXZlICYgbW9yZSBzZWFyY2hhYmxlIG5hbWUuICBTaW5jZSBwYXNzaW5nIHRoZSBcInNldFwiIGluIHJlYWxseSBoYXNcbiAgLy8gbm90aGluZyB0byBkbyB3aXRoIHBhcnNpbmcgcHJvcGVyLCBJIHdvdWxkIHByZWZlciB0aGlzIGFzc2lnbm1lbnQgZXZlbnR1YWxseVxuICAvLyBnbyBpbiBhbiBleHRlcm5hbCBmbi4pXG4gIGZ1bmN0aW9uIHBhcnNlU3Jjc2V0KGlucHV0LCBzZXQpIHtcblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RDaGFyYWN0ZXJzKHJlZ0V4KSB7XG4gICAgICB2YXIgY2hhcnMsXG4gICAgICAgICAgbWF0Y2ggPSByZWdFeC5leGVjKGlucHV0LnN1YnN0cmluZyhwb3MpKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjaGFycyA9IG1hdGNoWyAwIF07XG4gICAgICAgIHBvcyArPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjaGFycztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG4gICAgICAgIHVybCxcbiAgICAgICAgZGVzY3JpcHRvcnMsXG4gICAgICAgIGN1cnJlbnREZXNjcmlwdG9yLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgYyxcblxuICAgICAgICAvLyAyLiBMZXQgcG9zaXRpb24gYmUgYSBwb2ludGVyIGludG8gaW5wdXQsIGluaXRpYWxseSBwb2ludGluZyBhdCB0aGUgc3RhcnRcbiAgICAgICAgLy8gICAgb2YgdGhlIHN0cmluZy5cbiAgICAgICAgcG9zID0gMCxcblxuICAgICAgICAvLyAzLiBMZXQgY2FuZGlkYXRlcyBiZSBhbiBpbml0aWFsbHkgZW1wdHkgc291cmNlIHNldC5cbiAgICAgICAgY2FuZGlkYXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgKiBBZGRzIGRlc2NyaXB0b3IgcHJvcGVydGllcyB0byBhIGNhbmRpZGF0ZSwgcHVzaGVzIHRvIHRoZSBjYW5kaWRhdGVzIGFycmF5XG4gICAgKiBAcmV0dXJuIHVuZGVmaW5lZFxuICAgICovXG4gICAgLy8gKERlY2xhcmVkIG91dHNpZGUgb2YgdGhlIHdoaWxlIGxvb3Agc28gdGhhdCBpdCdzIG9ubHkgY3JlYXRlZCBvbmNlLlxuICAgIC8vIChUaGlzIGZuIGlzIGRlZmluZWQgYmVmb3JlIGl0IGlzIHVzZWQsIGluIG9yZGVyIHRvIHBhc3MgSlNISU5ULlxuICAgIC8vIFVuZm9ydHVuYXRlbHkgdGhpcyBicmVha3MgdGhlIHNlcXVlbmNpbmcgb2YgdGhlIHNwZWMgY29tbWVudHMuIDovIClcbiAgICBmdW5jdGlvbiBwYXJzZURlc2NyaXB0b3JzKCkge1xuXG4gICAgICAvLyA5LiBEZXNjcmlwdG9yIHBhcnNlcjogTGV0IGVycm9yIGJlIG5vLlxuICAgICAgdmFyIHBFcnJvciA9IGZhbHNlLFxuXG4gICAgICAvLyAxMC4gTGV0IHdpZHRoIGJlIGFic2VudC5cbiAgICAgIC8vIDExLiBMZXQgZGVuc2l0eSBiZSBhYnNlbnQuXG4gICAgICAvLyAxMi4gTGV0IGZ1dHVyZS1jb21wYXQtaCBiZSBhYnNlbnQuIChXZSdyZSBpbXBsZW1lbnRpbmcgaXQgbm93IGFzIGgpXG4gICAgICAgICAgdywgZCwgaCwgaSxcbiAgICAgICAgICBjYW5kaWRhdGUgPSB7fSxcbiAgICAgICAgICBkZXNjLCBsYXN0Q2hhciwgdmFsdWUsIGludFZhbCwgZmxvYXRWYWw7XG5cbiAgICAgIC8vIDEzLiBGb3IgZWFjaCBkZXNjcmlwdG9yIGluIGRlc2NyaXB0b3JzLCBydW4gdGhlIGFwcHJvcHJpYXRlIHNldCBvZiBzdGVwc1xuICAgICAgLy8gZnJvbSB0aGUgZm9sbG93aW5nIGxpc3Q6XG4gICAgICBmb3IgKGkgPSAwIDsgaSA8IGRlc2NyaXB0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRlc2MgPSBkZXNjcmlwdG9yc1sgaSBdO1xuXG4gICAgICAgIGxhc3RDaGFyID0gZGVzY1sgZGVzYy5sZW5ndGggLSAxIF07XG4gICAgICAgIHZhbHVlID0gZGVzYy5zdWJzdHJpbmcoMCwgZGVzYy5sZW5ndGggLSAxKTtcbiAgICAgICAgaW50VmFsID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgZmxvYXRWYWwgPSBwYXJzZUZsb2F0KHZhbHVlKTtcblxuICAgICAgICAvLyBJZiB0aGUgZGVzY3JpcHRvciBjb25zaXN0cyBvZiBhIHZhbGlkIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIGZvbGxvd2VkIGJ5XG4gICAgICAgIC8vIGEgVSswMDc3IExBVElOIFNNQUxMIExFVFRFUiBXIGNoYXJhY3RlclxuICAgICAgICBpZiAocmVnZXhOb25OZWdhdGl2ZUludGVnZXIudGVzdCh2YWx1ZSkgJiYgKGxhc3RDaGFyID09PSBcIndcIikpIHtcblxuICAgICAgICAgIC8vIElmIHdpZHRoIGFuZCBkZW5zaXR5IGFyZSBub3QgYm90aCBhYnNlbnQsIHRoZW4gbGV0IGVycm9yIGJlIHllcy5cbiAgICAgICAgICBpZiAodyB8fCBkKSB7cEVycm9yID0gdHJ1ZTt9XG5cbiAgICAgICAgICAvLyBBcHBseSB0aGUgcnVsZXMgZm9yIHBhcnNpbmcgbm9uLW5lZ2F0aXZlIGludGVnZXJzIHRvIHRoZSBkZXNjcmlwdG9yLlxuICAgICAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgemVybywgbGV0IGVycm9yIGJlIHllcy5cbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGxldCB3aWR0aCBiZSB0aGUgcmVzdWx0LlxuICAgICAgICAgIGlmIChpbnRWYWwgPT09IDApIHtwRXJyb3IgPSB0cnVlO30gZWxzZSB7dyA9IGludFZhbDt9XG5cbiAgICAgICAgLy8gSWYgdGhlIGRlc2NyaXB0b3IgY29uc2lzdHMgb2YgYSB2YWxpZCBmbG9hdGluZy1wb2ludCBudW1iZXIgZm9sbG93ZWQgYnlcbiAgICAgICAgLy8gYSBVKzAwNzggTEFUSU4gU01BTEwgTEVUVEVSIFggY2hhcmFjdGVyXG4gICAgICAgIH0gZWxzZSBpZiAocmVnZXhGbG9hdGluZ1BvaW50LnRlc3QodmFsdWUpICYmIChsYXN0Q2hhciA9PT0gXCJ4XCIpKSB7XG5cbiAgICAgICAgICAvLyBJZiB3aWR0aCwgZGVuc2l0eSBhbmQgZnV0dXJlLWNvbXBhdC1oIGFyZSBub3QgYWxsIGFic2VudCwgdGhlbiBsZXQgZXJyb3JcbiAgICAgICAgICAvLyBiZSB5ZXMuXG4gICAgICAgICAgaWYgKHcgfHwgZCB8fCBoKSB7cEVycm9yID0gdHJ1ZTt9XG5cbiAgICAgICAgICAvLyBBcHBseSB0aGUgcnVsZXMgZm9yIHBhcnNpbmcgZmxvYXRpbmctcG9pbnQgbnVtYmVyIHZhbHVlcyB0byB0aGUgZGVzY3JpcHRvci5cbiAgICAgICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIGxlc3MgdGhhbiB6ZXJvLCBsZXQgZXJyb3IgYmUgeWVzLiBPdGhlcndpc2UsIGxldCBkZW5zaXR5XG4gICAgICAgICAgLy8gYmUgdGhlIHJlc3VsdC5cbiAgICAgICAgICBpZiAoZmxvYXRWYWwgPCAwKSB7cEVycm9yID0gdHJ1ZTt9IGVsc2Uge2QgPSBmbG9hdFZhbDt9XG5cbiAgICAgICAgLy8gSWYgdGhlIGRlc2NyaXB0b3IgY29uc2lzdHMgb2YgYSB2YWxpZCBub24tbmVnYXRpdmUgaW50ZWdlciBmb2xsb3dlZCBieVxuICAgICAgICAvLyBhIFUrMDA2OCBMQVRJTiBTTUFMTCBMRVRURVIgSCBjaGFyYWN0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChyZWdleE5vbk5lZ2F0aXZlSW50ZWdlci50ZXN0KHZhbHVlKSAmJiAobGFzdENoYXIgPT09IFwiaFwiKSkge1xuXG4gICAgICAgICAgLy8gSWYgaGVpZ2h0IGFuZCBkZW5zaXR5IGFyZSBub3QgYm90aCBhYnNlbnQsIHRoZW4gbGV0IGVycm9yIGJlIHllcy5cbiAgICAgICAgICBpZiAoaCB8fCBkKSB7cEVycm9yID0gdHJ1ZTt9XG5cbiAgICAgICAgICAvLyBBcHBseSB0aGUgcnVsZXMgZm9yIHBhcnNpbmcgbm9uLW5lZ2F0aXZlIGludGVnZXJzIHRvIHRoZSBkZXNjcmlwdG9yLlxuICAgICAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgemVybywgbGV0IGVycm9yIGJlIHllcy4gT3RoZXJ3aXNlLCBsZXQgZnV0dXJlLWNvbXBhdC1oXG4gICAgICAgICAgLy8gYmUgdGhlIHJlc3VsdC5cbiAgICAgICAgICBpZiAoaW50VmFsID09PSAwKSB7cEVycm9yID0gdHJ1ZTt9IGVsc2Uge2ggPSBpbnRWYWw7fVxuXG4gICAgICAgIC8vIEFueXRoaW5nIGVsc2UsIExldCBlcnJvciBiZSB5ZXMuXG4gICAgICAgIH0gZWxzZSB7cEVycm9yID0gdHJ1ZTt9XG4gICAgICB9IC8vIChjbG9zZSBzdGVwIDEzIGZvciBsb29wKVxuXG4gICAgICAvLyAxNS4gSWYgZXJyb3IgaXMgc3RpbGwgbm8sIHRoZW4gYXBwZW5kIGEgbmV3IGltYWdlIHNvdXJjZSB0byBjYW5kaWRhdGVzIHdob3NlXG4gICAgICAvLyBVUkwgaXMgdXJsLCBhc3NvY2lhdGVkIHdpdGggYSB3aWR0aCB3aWR0aCBpZiBub3QgYWJzZW50IGFuZCBhIHBpeGVsXG4gICAgICAvLyBkZW5zaXR5IGRlbnNpdHkgaWYgbm90IGFic2VudC4gT3RoZXJ3aXNlLCB0aGVyZSBpcyBhIHBhcnNlIGVycm9yLlxuICAgICAgaWYgKCFwRXJyb3IpIHtcbiAgICAgICAgY2FuZGlkYXRlLnVybCA9IHVybDtcblxuICAgICAgICBpZiAodykgeyBjYW5kaWRhdGUudyA9IHc7fVxuICAgICAgICBpZiAoZCkgeyBjYW5kaWRhdGUuZCA9IGQ7fVxuICAgICAgICBpZiAoaCkgeyBjYW5kaWRhdGUuaCA9IGg7fVxuICAgICAgICBpZiAoIWggJiYgIWQgJiYgIXcpIHtjYW5kaWRhdGUuZCA9IDE7fVxuICAgICAgICBpZiAoY2FuZGlkYXRlLmQgPT09IDEpIHtzZXQuaGFzMXggPSB0cnVlO31cbiAgICAgICAgY2FuZGlkYXRlLnNldCA9IHNldDtcblxuICAgICAgICBjYW5kaWRhdGVzLnB1c2goY2FuZGlkYXRlKTtcbiAgICAgIH1cbiAgICB9IC8vIChjbG9zZSBwYXJzZURlc2NyaXB0b3JzIGZuKVxuXG4gICAgLyoqXG4gICAgKiBUb2tlbml6ZXMgZGVzY3JpcHRvciBwcm9wZXJ0aWVzIHByaW9yIHRvIHBhcnNpbmdcbiAgICAqIFJldHVybnMgdW5kZWZpbmVkLlxuICAgICogKEFnYWluLCB0aGlzIGZuIGlzIGRlZmluZWQgYmVmb3JlIGl0IGlzIHVzZWQsIGluIG9yZGVyIHRvIHBhc3MgSlNISU5ULlxuICAgICogVW5mb3J0dW5hdGVseSB0aGlzIGJyZWFrcyB0aGUgbG9naWNhbCBzZXF1ZW5jaW5nIG9mIHRoZSBzcGVjIGNvbW1lbnRzLiA6LyApXG4gICAgKi9cbiAgICBmdW5jdGlvbiB0b2tlbml6ZSgpIHtcblxuICAgICAgLy8gOC4xLiBEZXNjcmlwdG9yIHRva2VuaXNlcjogU2tpcCB3aGl0ZXNwYWNlXG4gICAgICBjb2xsZWN0Q2hhcmFjdGVycyhyZWdleExlYWRpbmdTcGFjZXMpO1xuXG4gICAgICAvLyA4LjIuIExldCBjdXJyZW50IGRlc2NyaXB0b3IgYmUgdGhlIGVtcHR5IHN0cmluZy5cbiAgICAgIGN1cnJlbnREZXNjcmlwdG9yID0gXCJcIjtcblxuICAgICAgLy8gOC4zLiBMZXQgc3RhdGUgYmUgaW4gZGVzY3JpcHRvci5cbiAgICAgIHN0YXRlID0gXCJpbiBkZXNjcmlwdG9yXCI7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG5cbiAgICAgICAgLy8gOC40LiBMZXQgYyBiZSB0aGUgY2hhcmFjdGVyIGF0IHBvc2l0aW9uLlxuICAgICAgICBjID0gaW5wdXQuY2hhckF0KHBvcyk7XG5cbiAgICAgICAgLy8gIERvIHRoZSBmb2xsb3dpbmcgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiBzdGF0ZS5cbiAgICAgICAgLy8gIEZvciB0aGUgcHVycG9zZSBvZiB0aGlzIHN0ZXAsIFwiRU9GXCIgaXMgYSBzcGVjaWFsIGNoYXJhY3RlciByZXByZXNlbnRpbmdcbiAgICAgICAgLy8gIHRoYXQgcG9zaXRpb24gaXMgcGFzdCB0aGUgZW5kIG9mIGlucHV0LlxuXG4gICAgICAgIC8vIEluIGRlc2NyaXB0b3JcbiAgICAgICAgaWYgKHN0YXRlID09PSBcImluIGRlc2NyaXB0b3JcIikge1xuICAgICAgICAgIC8vIERvIHRoZSBmb2xsb3dpbmcsIGRlcGVuZGluZyBvbiB0aGUgdmFsdWUgb2YgYzpcblxuICAgICAgICAgIC8vIFNwYWNlIGNoYXJhY3RlclxuICAgICAgICAgIC8vIElmIGN1cnJlbnQgZGVzY3JpcHRvciBpcyBub3QgZW1wdHksIGFwcGVuZCBjdXJyZW50IGRlc2NyaXB0b3IgdG9cbiAgICAgICAgICAvLyBkZXNjcmlwdG9ycyBhbmQgbGV0IGN1cnJlbnQgZGVzY3JpcHRvciBiZSB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAgICAgIC8vIFNldCBzdGF0ZSB0byBhZnRlciBkZXNjcmlwdG9yLlxuICAgICAgICAgIGlmIChpc1NwYWNlKGMpKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudERlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgICAgZGVzY3JpcHRvcnMucHVzaChjdXJyZW50RGVzY3JpcHRvcik7XG4gICAgICAgICAgICAgIGN1cnJlbnREZXNjcmlwdG9yID0gXCJcIjtcbiAgICAgICAgICAgICAgc3RhdGUgPSBcImFmdGVyIGRlc2NyaXB0b3JcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFUrMDAyQyBDT01NQSAoLClcbiAgICAgICAgICAvLyBBZHZhbmNlIHBvc2l0aW9uIHRvIHRoZSBuZXh0IGNoYXJhY3RlciBpbiBpbnB1dC4gSWYgY3VycmVudCBkZXNjcmlwdG9yXG4gICAgICAgICAgLy8gaXMgbm90IGVtcHR5LCBhcHBlbmQgY3VycmVudCBkZXNjcmlwdG9yIHRvIGRlc2NyaXB0b3JzLiBKdW1wIHRvIHRoZSBzdGVwXG4gICAgICAgICAgLy8gbGFiZWxlZCBkZXNjcmlwdG9yIHBhcnNlci5cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09IFwiLFwiKSB7XG4gICAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50RGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICBkZXNjcmlwdG9ycy5wdXNoKGN1cnJlbnREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlRGVzY3JpcHRvcnMoKTtcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIC8vIFUrMDAyOCBMRUZUIFBBUkVOVEhFU0lTICgoKVxuICAgICAgICAgIC8vIEFwcGVuZCBjIHRvIGN1cnJlbnQgZGVzY3JpcHRvci4gU2V0IHN0YXRlIHRvIGluIHBhcmVucy5cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09IFwiXFx1MDAyOFwiKSB7XG4gICAgICAgICAgICBjdXJyZW50RGVzY3JpcHRvciA9IGN1cnJlbnREZXNjcmlwdG9yICsgYztcbiAgICAgICAgICAgIHN0YXRlID0gXCJpbiBwYXJlbnNcIjtcblxuICAgICAgICAgIC8vIEVPRlxuICAgICAgICAgIC8vIElmIGN1cnJlbnQgZGVzY3JpcHRvciBpcyBub3QgZW1wdHksIGFwcGVuZCBjdXJyZW50IGRlc2NyaXB0b3IgdG9cbiAgICAgICAgICAvLyBkZXNjcmlwdG9ycy4gSnVtcCB0byB0aGUgc3RlcCBsYWJlbGVkIGRlc2NyaXB0b3IgcGFyc2VyLlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gXCJcIikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnREZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0b3JzLnB1c2goY3VycmVudERlc2NyaXB0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VEZXNjcmlwdG9ycygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gQW55dGhpbmcgZWxzZVxuICAgICAgICAgIC8vIEFwcGVuZCBjIHRvIGN1cnJlbnQgZGVzY3JpcHRvci5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBjdXJyZW50RGVzY3JpcHRvciArIGM7XG4gICAgICAgICAgfVxuICAgICAgICAvLyAoZW5kIFwiaW4gZGVzY3JpcHRvclwiXG5cbiAgICAgICAgLy8gSW4gcGFyZW5zXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFwiaW4gcGFyZW5zXCIpIHtcblxuICAgICAgICAgIC8vIFUrMDAyOSBSSUdIVCBQQVJFTlRIRVNJUyAoKSlcbiAgICAgICAgICAvLyBBcHBlbmQgYyB0byBjdXJyZW50IGRlc2NyaXB0b3IuIFNldCBzdGF0ZSB0byBpbiBkZXNjcmlwdG9yLlxuICAgICAgICAgIGlmIChjID09PSBcIilcIikge1xuICAgICAgICAgICAgY3VycmVudERlc2NyaXB0b3IgPSBjdXJyZW50RGVzY3JpcHRvciArIGM7XG4gICAgICAgICAgICBzdGF0ZSA9IFwiaW4gZGVzY3JpcHRvclwiO1xuXG4gICAgICAgICAgLy8gRU9GXG4gICAgICAgICAgLy8gQXBwZW5kIGN1cnJlbnQgZGVzY3JpcHRvciB0byBkZXNjcmlwdG9ycy4gSnVtcCB0byB0aGUgc3RlcCBsYWJlbGVkXG4gICAgICAgICAgLy8gZGVzY3JpcHRvciBwYXJzZXIuXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSBcIlwiKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9ycy5wdXNoKGN1cnJlbnREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIHBhcnNlRGVzY3JpcHRvcnMoKTtcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIC8vIEFueXRoaW5nIGVsc2VcbiAgICAgICAgICAvLyBBcHBlbmQgYyB0byBjdXJyZW50IGRlc2NyaXB0b3IuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnREZXNjcmlwdG9yID0gY3VycmVudERlc2NyaXB0b3IgKyBjO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBBZnRlciBkZXNjcmlwdG9yXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFwiYWZ0ZXIgZGVzY3JpcHRvclwiKSB7XG5cbiAgICAgICAgICAvLyBEbyB0aGUgZm9sbG93aW5nLCBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIGM6XG4gICAgICAgICAgLy8gU3BhY2UgY2hhcmFjdGVyOiBTdGF5IGluIHRoaXMgc3RhdGUuXG4gICAgICAgICAgaWYgKGlzU3BhY2UoYykpIHtcblxuICAgICAgICAgIC8vIEVPRjogSnVtcCB0byB0aGUgc3RlcCBsYWJlbGVkIGRlc2NyaXB0b3IgcGFyc2VyLlxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gXCJcIikge1xuICAgICAgICAgICAgcGFyc2VEZXNjcmlwdG9ycygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gQW55dGhpbmcgZWxzZVxuICAgICAgICAgIC8vIFNldCBzdGF0ZSB0byBpbiBkZXNjcmlwdG9yLiBTZXQgcG9zaXRpb24gdG8gdGhlIHByZXZpb3VzIGNoYXJhY3RlciBpbiBpbnB1dC5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBcImluIGRlc2NyaXB0b3JcIjtcbiAgICAgICAgICAgIHBvcyAtPSAxO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWR2YW5jZSBwb3NpdGlvbiB0byB0aGUgbmV4dCBjaGFyYWN0ZXIgaW4gaW5wdXQuXG4gICAgICAgIHBvcyArPSAxO1xuXG4gICAgICAvLyBSZXBlYXQgdGhpcyBzdGVwLlxuICAgICAgfSAvLyAoY2xvc2Ugd2hpbGUgdHJ1ZSBsb29wKVxuICAgIH1cblxuICAgIC8vIDQuIFNwbGl0dGluZyBsb29wOiBDb2xsZWN0IGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBzcGFjZVxuICAgIC8vICAgIGNoYXJhY3RlcnMgb3IgVSswMDJDIENPTU1BIGNoYXJhY3RlcnMuIElmIGFueSBVKzAwMkMgQ09NTUEgY2hhcmFjdGVyc1xuICAgIC8vICAgIHdlcmUgY29sbGVjdGVkLCB0aGF0IGlzIGEgcGFyc2UgZXJyb3IuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbGxlY3RDaGFyYWN0ZXJzKHJlZ2V4TGVhZGluZ0NvbW1hc09yU3BhY2VzKTtcblxuICAgICAgLy8gNS4gSWYgcG9zaXRpb24gaXMgcGFzdCB0aGUgZW5kIG9mIGlucHV0LCByZXR1cm4gY2FuZGlkYXRlcyBhbmQgYWJvcnQgdGhlc2Ugc3RlcHMuXG4gICAgICBpZiAocG9zID49IGlucHV0TGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGVzOyAvLyAod2UncmUgZG9uZSwgdGhpcyBpcyB0aGUgc29sZSByZXR1cm4gcGF0aClcbiAgICAgIH1cblxuICAgICAgLy8gNi4gQ29sbGVjdCBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IHNwYWNlIGNoYXJhY3RlcnMsXG4gICAgICAvLyAgICBhbmQgbGV0IHRoYXQgYmUgdXJsLlxuICAgICAgdXJsID0gY29sbGVjdENoYXJhY3RlcnMocmVnZXhMZWFkaW5nTm90U3BhY2VzKTtcblxuICAgICAgLy8gNy4gTGV0IGRlc2NyaXB0b3JzIGJlIGEgbmV3IGVtcHR5IGxpc3QuXG4gICAgICBkZXNjcmlwdG9ycyA9IFtdO1xuXG4gICAgICAvLyA4LiBJZiB1cmwgZW5kcyB3aXRoIGEgVSswMDJDIENPTU1BIGNoYXJhY3RlciAoLCksIGZvbGxvdyB0aGVzZSBzdWJzdGVwczpcbiAgICAgIC8vICAgICgxKS4gUmVtb3ZlIGFsbCB0cmFpbGluZyBVKzAwMkMgQ09NTUEgY2hhcmFjdGVycyBmcm9tIHVybC4gSWYgdGhpcyByZW1vdmVkXG4gICAgICAvLyAgICAgICAgIG1vcmUgdGhhbiBvbmUgY2hhcmFjdGVyLCB0aGF0IGlzIGEgcGFyc2UgZXJyb3IuXG4gICAgICBpZiAodXJsLnNsaWNlKC0xKSA9PT0gXCIsXCIpIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UocmVnZXhUcmFpbGluZ0NvbW1hcywgXCJcIik7XG4gICAgICAgIC8vIChKdW1wIGFoZWFkIHRvIHN0ZXAgOSB0byBza2lwIHRva2VuaXphdGlvbiBhbmQganVzdCBwdXNoIHRoZSBjYW5kaWRhdGUpLlxuICAgICAgICBwYXJzZURlc2NyaXB0b3JzKCk7XG5cbiAgICAgIC8vICBPdGhlcndpc2UsIGZvbGxvdyB0aGVzZSBzdWJzdGVwczpcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRva2VuaXplKCk7XG4gICAgICB9IC8vIChjbG9zZSBlbHNlIG9mIHN0ZXAgOClcblxuICAgIC8vIDE2LiBSZXR1cm4gdG8gdGhlIHN0ZXAgbGFiZWxlZCBzcGxpdHRpbmcgbG9vcC5cbiAgICB9IC8vIChDbG9zZSBvZiBiaWcgd2hpbGUgbG9vcC4pXG4gIH1cblxuICAvKlxuICAgKiBTaXplcyBQYXJzZXJcbiAgICpcbiAgICogQnkgQWxleCBCZWxsIHwgIE1JVCBMaWNlbnNlXG4gICAqXG4gICAqIE5vbi1zdHJpY3QgYnV0IGFjY3VyYXRlIGFuZCBsaWdodHdlaWdodCBKUyBQYXJzZXIgZm9yIHRoZSBzdHJpbmcgdmFsdWUgPGltZyBzaXplcz1cImhlcmVcIj5cbiAgICpcbiAgICogUmVmZXJlbmNlIGFsZ29yaXRobSBhdDpcbiAgICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3BhcnNlLWEtc2l6ZXMtYXR0cmlidXRlXG4gICAqXG4gICAqIE1vc3QgY29tbWVudHMgYXJlIGNvcGllZCBpbiBkaXJlY3RseSBmcm9tIHRoZSBzcGVjXG4gICAqIChleGNlcHQgZm9yIGNvbW1lbnRzIGluIHBhcmVucykuXG4gICAqXG4gICAqIEdyYW1tYXIgaXM6XG4gICAqIDxzb3VyY2Utc2l6ZS1saXN0PiA9IDxzb3VyY2Utc2l6ZT4jIFsgLCA8c291cmNlLXNpemUtdmFsdWU+IF0/IHwgPHNvdXJjZS1zaXplLXZhbHVlPlxuICAgKiA8c291cmNlLXNpemU+ID0gPG1lZGlhLWNvbmRpdGlvbj4gPHNvdXJjZS1zaXplLXZhbHVlPlxuICAgKiA8c291cmNlLXNpemUtdmFsdWU+ID0gPGxlbmd0aD5cbiAgICogaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvZW1iZWRkZWQtY29udGVudC5odG1sI2F0dHItaW1nLXNpemVzXG4gICAqXG4gICAqIEUuZy4gXCIobWF4LXdpZHRoOiAzMGVtKSAxMDB2dywgKG1heC13aWR0aDogNTBlbSkgNzB2dywgMTAwdndcIlxuICAgKiBvciBcIihtaW4td2lkdGg6IDMwZW0pLCBjYWxjKDMwdncgLSAxNXB4KVwiIG9yIGp1c3QgXCIzMHZ3XCJcbiAgICpcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgdmFsaWQgPGNzcy1sZW5ndGg+IHdpdGggYSBtZWRpYSBjb25kaXRpb24gdGhhdCBldmFsdWF0ZXMgdG8gdHJ1ZSxcbiAgICogb3IgXCIxMDB2d1wiIGlmIGFsbCB2YWxpZCBtZWRpYSBjb25kaXRpb25zIGV2YWx1YXRlIHRvIGZhbHNlLlxuICAgKlxuICAgKi9cblxuICBmdW5jdGlvbiBwYXJzZVNpemVzKHN0clZhbHVlKSB7XG5cbiAgICAvLyAoUGVyY2VudGFnZSBDU1MgbGVuZ3RocyBhcmUgbm90IGFsbG93ZWQgaW4gdGhpcyBjYXNlLCB0byBhdm9pZCBjb25mdXNpb246XG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3ZhbGlkLXNvdXJjZS1zaXplLWxpc3RcbiAgICAvLyBDU1MgYWxsb3dzIGEgc2luZ2xlIG9wdGlvbmFsIHBsdXMgb3IgbWludXMgc2lnbjpcbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyL3N5bmRhdGEuaHRtbCNudW1iZXJzXG4gICAgLy8gQ1NTIGlzIEFTQ0lJIGNhc2UtaW5zZW5zaXRpdmU6XG4gICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMi9zeW5kYXRhLmh0bWwjY2hhcmFjdGVycyApXG4gICAgLy8gU3BlYyBhbGxvd3MgZXhwb25lbnRpYWwgbm90YXRpb24gZm9yIDxudW1iZXI+IHR5cGU6XG4gICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy8jbnVtYmVyc1xuICAgIHZhciByZWdleENzc0xlbmd0aFdpdGhVbml0cyA9IC9eKD86WystXT9bMC05XSt8WzAtOV0qXFwuWzAtOV0rKSg/OltlRV1bKy1dP1swLTldKyk/KD86Y2h8Y218ZW18ZXh8aW58bW18cGN8cHR8cHh8cmVtfHZofHZtaW58dm1heHx2dykkL2k7XG5cbiAgICAvLyAoVGhpcyBpcyBhIHF1aWNrIGFuZCBsZW5pZW50IHRlc3QuIEJlY2F1c2Ugb2Ygb3B0aW9uYWwgdW5saW1pdGVkLWRlcHRoIGludGVybmFsXG4gICAgLy8gZ3JvdXBpbmcgcGFyZW5zIGFuZCBzdHJpY3Qgc3BhY2luZyBydWxlcywgdGhpcyBjb3VsZCBnZXQgdmVyeSBjb21wbGljYXRlZC4pXG4gICAgdmFyIHJlZ2V4Q3NzQ2FsYyA9IC9eY2FsY1xcKCg/OlswLTlhLXogXFwuXFwrXFwtXFwqXFwvXFwoXFwpXSspXFwpJC9pO1xuXG4gICAgdmFyIGk7XG4gICAgdmFyIHVucGFyc2VkU2l6ZXNMaXN0O1xuICAgIHZhciB1bnBhcnNlZFNpemVzTGlzdExlbmd0aDtcbiAgICB2YXIgdW5wYXJzZWRTaXplO1xuICAgIHZhciBsYXN0Q29tcG9uZW50VmFsdWU7XG4gICAgdmFyIHNpemU7XG5cbiAgICAvLyBVVElMSVRZIEZVTkNUSU9OU1xuXG4gICAgLy8gIChUb3kgQ1NTIHBhcnNlci4gVGhlIGdvYWxzIGhlcmUgYXJlOlxuICAgIC8vICAxKSBleHBhbnNpdmUgdGVzdCBjb3ZlcmFnZSB3aXRob3V0IHRoZSB3ZWlnaHQgb2YgYSBmdWxsIENTUyBwYXJzZXIuXG4gICAgLy8gIDIpIEF2b2lkaW5nIHJlZ2V4IHdoZXJldmVyIGNvbnZlbmllbnQuXG4gICAgLy8gIFF1aWNrIHRlc3RzOiBodHRwOi8vanNmaWRkbGUubmV0L2d0bnRMNGdyLzMvXG4gICAgLy8gIFJldHVybnMgYW4gYXJyYXkgb2YgYXJyYXlzLilcbiAgICBmdW5jdGlvbiBwYXJzZUNvbXBvbmVudFZhbHVlcyhzdHIpIHtcbiAgICAgIHZhciBjaHJjdHI7XG4gICAgICB2YXIgY29tcG9uZW50ID0gXCJcIjtcbiAgICAgIHZhciBjb21wb25lbnRBcnJheSA9IFtdO1xuICAgICAgdmFyIGxpc3RBcnJheSA9IFtdO1xuICAgICAgdmFyIHBhcmVuRGVwdGggPSAwO1xuICAgICAgdmFyIHBvcyA9IDA7XG4gICAgICB2YXIgaW5Db21tZW50ID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIHB1c2hDb21wb25lbnQoKSB7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICBjb21wb25lbnRBcnJheS5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgICAgY29tcG9uZW50ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwdXNoQ29tcG9uZW50QXJyYXkoKSB7XG4gICAgICAgIGlmIChjb21wb25lbnRBcnJheVswXSkge1xuICAgICAgICAgIGxpc3RBcnJheS5wdXNoKGNvbXBvbmVudEFycmF5KTtcbiAgICAgICAgICBjb21wb25lbnRBcnJheSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIChMb29wIGZvcndhcmRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc3RyaW5nLilcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNocmN0ciA9IHN0ci5jaGFyQXQocG9zKTtcblxuICAgICAgICBpZiAoY2hyY3RyID09PSBcIlwiKSB7IC8vICggRW5kIG9mIHN0cmluZyByZWFjaGVkLilcbiAgICAgICAgICBwdXNoQ29tcG9uZW50KCk7XG4gICAgICAgICAgcHVzaENvbXBvbmVudEFycmF5KCk7XG4gICAgICAgICAgcmV0dXJuIGxpc3RBcnJheTtcbiAgICAgICAgfSBlbHNlIGlmIChpbkNvbW1lbnQpIHtcbiAgICAgICAgICBpZiAoKGNocmN0ciA9PT0gXCIqXCIpICYmIChzdHJbcG9zICsgMV0gPT09IFwiL1wiKSkgeyAvLyAoQXQgZW5kIG9mIGEgY29tbWVudC4pXG4gICAgICAgICAgICBpbkNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgcHVzaENvbXBvbmVudCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcyArPSAxOyAvLyAoU2tpcCBhbGwgY2hhcmFjdGVycyBpbnNpZGUgY29tbWVudHMuKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzU3BhY2UoY2hyY3RyKSkge1xuICAgICAgICAgIC8vIChJZiBwcmV2aW91cyBjaGFyYWN0ZXIgaW4gbG9vcCB3YXMgYWxzbyBhIHNwYWNlLCBvciBpZlxuICAgICAgICAgIC8vIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZywgZG8gbm90IGFkZCBzcGFjZSBjaGFyIHRvXG4gICAgICAgICAgLy8gY29tcG9uZW50LilcbiAgICAgICAgICBpZiAoIChzdHIuY2hhckF0KHBvcyAtIDEpICYmIGlzU3BhY2UoIHN0ci5jaGFyQXQocG9zIC0gMSkgKSApIHx8ICFjb21wb25lbnQgKSB7XG4gICAgICAgICAgICBwb3MgKz0gMTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW5EZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgcHVzaENvbXBvbmVudCgpO1xuICAgICAgICAgICAgcG9zICs9MTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAoUmVwbGFjZSBhbnkgc3BhY2UgY2hhcmFjdGVyIHdpdGggYSBwbGFpbiBzcGFjZSBmb3IgbGVnaWJpbGl0eS4pXG4gICAgICAgICAgICBjaHJjdHIgPSBcIiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hyY3RyID09PSBcIihcIikge1xuICAgICAgICAgIHBhcmVuRGVwdGggKz0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChjaHJjdHIgPT09IFwiKVwiKSB7XG4gICAgICAgICAgcGFyZW5EZXB0aCAtPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNocmN0ciA9PT0gXCIsXCIpIHtcbiAgICAgICAgICBwdXNoQ29tcG9uZW50KCk7XG4gICAgICAgICAgcHVzaENvbXBvbmVudEFycmF5KCk7XG4gICAgICAgICAgcG9zICs9IDE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIChjaHJjdHIgPT09IFwiL1wiKSAmJiAoc3RyLmNoYXJBdChwb3MgKyAxKSA9PT0gXCIqXCIpICkge1xuICAgICAgICAgIGluQ29tbWVudCA9IHRydWU7XG4gICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb25lbnQgPSBjb21wb25lbnQgKyBjaHJjdHI7XG4gICAgICAgIHBvcyArPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWROb25OZWdhdGl2ZVNvdXJjZVNpemVWYWx1ZShzKSB7XG4gICAgICBpZiAocmVnZXhDc3NMZW5ndGhXaXRoVW5pdHMudGVzdChzKSAmJiAocGFyc2VGbG9hdChzKSA+PSAwKSkge3JldHVybiB0cnVlO31cbiAgICAgIGlmIChyZWdleENzc0NhbGMudGVzdChzKSkge3JldHVybiB0cnVlO31cbiAgICAgIC8vICggaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMi9zeW5kYXRhLmh0bWwjbnVtYmVycyBzYXlzOlxuICAgICAgLy8gXCItMCBpcyBlcXVpdmFsZW50IHRvIDAgYW5kIGlzIG5vdCBhIG5lZ2F0aXZlIG51bWJlci5cIiB3aGljaCBtZWFucyB0aGF0XG4gICAgICAvLyB1bml0bGVzcyB6ZXJvIGFuZCB1bml0bGVzcyBuZWdhdGl2ZSB6ZXJvIG11c3QgYmUgYWNjZXB0ZWQgYXMgc3BlY2lhbCBjYXNlcy4pXG4gICAgICBpZiAoKHMgPT09IFwiMFwiKSB8fCAocyA9PT0gXCItMFwiKSB8fCAocyA9PT0gXCIrMFwiKSkge3JldHVybiB0cnVlO31cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIGFza2VkIHRvIHBhcnNlIGEgc2l6ZXMgYXR0cmlidXRlIGZyb20gYW4gZWxlbWVudCwgcGFyc2UgYVxuICAgIC8vIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGNvbXBvbmVudCB2YWx1ZXMgZnJvbSB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQnc1xuICAgIC8vIHNpemVzIGF0dHJpYnV0ZSAob3IgdGhlIGVtcHR5IHN0cmluZywgaWYgdGhlIGF0dHJpYnV0ZSBpcyBhYnNlbnQpLCBhbmQgbGV0XG4gICAgLy8gdW5wYXJzZWQgc2l6ZXMgbGlzdCBiZSB0aGUgcmVzdWx0LlxuICAgIC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy1zeW50YXgvI3BhcnNlLWNvbW1hLXNlcGFyYXRlZC1saXN0LW9mLWNvbXBvbmVudC12YWx1ZXNcblxuICAgIHVucGFyc2VkU2l6ZXNMaXN0ID0gcGFyc2VDb21wb25lbnRWYWx1ZXMoc3RyVmFsdWUpO1xuICAgIHVucGFyc2VkU2l6ZXNMaXN0TGVuZ3RoID0gdW5wYXJzZWRTaXplc0xpc3QubGVuZ3RoO1xuXG4gICAgLy8gRm9yIGVhY2ggdW5wYXJzZWQgc2l6ZSBpbiB1bnBhcnNlZCBzaXplcyBsaXN0OlxuICAgIGZvciAoaSA9IDA7IGkgPCB1bnBhcnNlZFNpemVzTGlzdExlbmd0aDsgaSsrKSB7XG4gICAgICB1bnBhcnNlZFNpemUgPSB1bnBhcnNlZFNpemVzTGlzdFtpXTtcblxuICAgICAgLy8gMS4gUmVtb3ZlIGFsbCBjb25zZWN1dGl2ZSA8d2hpdGVzcGFjZS10b2tlbj5zIGZyb20gdGhlIGVuZCBvZiB1bnBhcnNlZCBzaXplLlxuICAgICAgLy8gKCBwYXJzZUNvbXBvbmVudFZhbHVlcygpIGFscmVhZHkgb21pdHMgc3BhY2VzIG91dHNpZGUgb2YgcGFyZW5zLiApXG5cbiAgICAgIC8vIElmIHVucGFyc2VkIHNpemUgaXMgbm93IGVtcHR5LCB0aGF0IGlzIGEgcGFyc2UgZXJyb3I7IGNvbnRpbnVlIHRvIHRoZSBuZXh0XG4gICAgICAvLyBpdGVyYXRpb24gb2YgdGhpcyBhbGdvcml0aG0uXG4gICAgICAvLyAoIHBhcnNlQ29tcG9uZW50VmFsdWVzKCkgd29uJ3QgcHVzaCBhbiBlbXB0eSBhcnJheS4gKVxuXG4gICAgICAvLyAyLiBJZiB0aGUgbGFzdCBjb21wb25lbnQgdmFsdWUgaW4gdW5wYXJzZWQgc2l6ZSBpcyBhIHZhbGlkIG5vbi1uZWdhdGl2ZVxuICAgICAgLy8gPHNvdXJjZS1zaXplLXZhbHVlPiwgbGV0IHNpemUgYmUgaXRzIHZhbHVlIGFuZCByZW1vdmUgdGhlIGNvbXBvbmVudCB2YWx1ZVxuICAgICAgLy8gZnJvbSB1bnBhcnNlZCBzaXplLiBBbnkgQ1NTIGZ1bmN0aW9uIG90aGVyIHRoYW4gdGhlIGNhbGMoKSBmdW5jdGlvbiBpc1xuICAgICAgLy8gaW52YWxpZC4gT3RoZXJ3aXNlLCB0aGVyZSBpcyBhIHBhcnNlIGVycm9yOyBjb250aW51ZSB0byB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgIC8vIG9mIHRoaXMgYWxnb3JpdGhtLlxuICAgICAgLy8gaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXN5bnRheC8jcGFyc2UtY29tcG9uZW50LXZhbHVlXG4gICAgICBsYXN0Q29tcG9uZW50VmFsdWUgPSB1bnBhcnNlZFNpemVbdW5wYXJzZWRTaXplLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAoaXNWYWxpZE5vbk5lZ2F0aXZlU291cmNlU2l6ZVZhbHVlKGxhc3RDb21wb25lbnRWYWx1ZSkpIHtcbiAgICAgICAgc2l6ZSA9IGxhc3RDb21wb25lbnRWYWx1ZTtcbiAgICAgICAgdW5wYXJzZWRTaXplLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIFJlbW92ZSBhbGwgY29uc2VjdXRpdmUgPHdoaXRlc3BhY2UtdG9rZW4+cyBmcm9tIHRoZSBlbmQgb2YgdW5wYXJzZWRcbiAgICAgIC8vIHNpemUuIElmIHVucGFyc2VkIHNpemUgaXMgbm93IGVtcHR5LCByZXR1cm4gc2l6ZSBhbmQgZXhpdCB0aGlzIGFsZ29yaXRobS5cbiAgICAgIC8vIElmIHRoaXMgd2FzIG5vdCB0aGUgbGFzdCBpdGVtIGluIHVucGFyc2VkIHNpemVzIGxpc3QsIHRoYXQgaXMgYSBwYXJzZSBlcnJvci5cbiAgICAgIGlmICh1bnBhcnNlZFNpemUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgICAgfVxuXG4gICAgICAvLyA0LiBQYXJzZSB0aGUgcmVtYWluaW5nIGNvbXBvbmVudCB2YWx1ZXMgaW4gdW5wYXJzZWQgc2l6ZSBhcyBhXG4gICAgICAvLyA8bWVkaWEtY29uZGl0aW9uPi4gSWYgaXQgZG9lcyBub3QgcGFyc2UgY29ycmVjdGx5LCBvciBpdCBkb2VzIHBhcnNlXG4gICAgICAvLyBjb3JyZWN0bHkgYnV0IHRoZSA8bWVkaWEtY29uZGl0aW9uPiBldmFsdWF0ZXMgdG8gZmFsc2UsIGNvbnRpbnVlIHRvIHRoZVxuICAgICAgLy8gbmV4dCBpdGVyYXRpb24gb2YgdGhpcyBhbGdvcml0aG0uXG4gICAgICAvLyAoUGFyc2luZyBhbGwgcG9zc2libGUgY29tcG91bmQgbWVkaWEgY29uZGl0aW9ucyBpbiBKUyBpcyBoZWF2eSwgY29tcGxpY2F0ZWQsXG4gICAgICAvLyBhbmQgdGhlIHBheW9mZiBpcyB1bmNsZWFyLiBJcyB0aGVyZSBldmVyIGFuIHNpdHVhdGlvbiB3aGVyZSB0aGVcbiAgICAgIC8vIG1lZGlhIGNvbmRpdGlvbiBwYXJzZXMgaW5jb3JyZWN0bHkgYnV0IHN0aWxsIHNvbWVob3cgZXZhbHVhdGVzIHRvIHRydWU/XG4gICAgICAvLyBDYW4gd2UganVzdCByZWx5IG9uIHRoZSBicm93c2VyL3BvbHlmaWxsIHRvIGRvIGl0PylcbiAgICAgIHVucGFyc2VkU2l6ZSA9IHVucGFyc2VkU2l6ZS5qb2luKFwiIFwiKTtcbiAgICAgIGlmICghKHBmLm1hdGNoZXNNZWRpYSggdW5wYXJzZWRTaXplICkgKSApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIDUuIFJldHVybiBzaXplIGFuZCBleGl0IHRoaXMgYWxnb3JpdGhtLlxuICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGFib3ZlIGFsZ29yaXRobSBleGhhdXN0cyB1bnBhcnNlZCBzaXplcyBsaXN0IHdpdGhvdXQgcmV0dXJuaW5nIGFcbiAgICAvLyBzaXplIHZhbHVlLCByZXR1cm4gMTAwdncuXG4gICAgcmV0dXJuIFwiMTAwdndcIjtcbiAgfVxuXG4gIC8vIG5hbWVzcGFjZVxuICBwZi5ucyA9IChcInBmXCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSkuc3Vic3RyKDAsIDkpO1xuXG4gIC8vIHNyY3NldCBzdXBwb3J0IHRlc3RcbiAgcGYuc3VwU3Jjc2V0ID0gXCJzcmNzZXRcIiBpbiBpbWFnZTtcbiAgcGYuc3VwU2l6ZXMgPSBcInNpemVzXCIgaW4gaW1hZ2U7XG4gIHBmLnN1cFBpY3R1cmUgPSAhIXdpbmRvdy5IVE1MUGljdHVyZUVsZW1lbnQ7XG5cbiAgLy8gVUMgYnJvd3NlciBkb2VzIGNsYWltIHRvIHN1cHBvcnQgc3Jjc2V0IGFuZCBwaWN0dXJlLCBidXQgbm90IHNpemVzLFxuICAvLyB0aGlzIGV4dGVuZGVkIHRlc3QgcmV2ZWFscyB0aGUgYnJvd3NlciBkb2VzIHN1cHBvcnQgbm90aGluZ1xuICBpZiAocGYuc3VwU3Jjc2V0ICYmIHBmLnN1cFBpY3R1cmUgJiYgIXBmLnN1cFNpemVzKSB7XG4gICAgKGZ1bmN0aW9uKGltYWdlMikge1xuICAgICAgaW1hZ2Uuc3Jjc2V0ID0gXCJkYXRhOixhXCI7XG4gICAgICBpbWFnZTIuc3JjID0gXCJkYXRhOixhXCI7XG4gICAgICBwZi5zdXBTcmNzZXQgPSBpbWFnZS5jb21wbGV0ZSA9PT0gaW1hZ2UyLmNvbXBsZXRlO1xuICAgICAgcGYuc3VwUGljdHVyZSA9IHBmLnN1cFNyY3NldCAmJiBwZi5zdXBQaWN0dXJlO1xuICAgIH0pKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikpO1xuICB9XG5cbiAgLy8gU2FmYXJpOSBoYXMgYmFzaWMgc3VwcG9ydCBmb3Igc2l6ZXMsIGJ1dCBkb2VzJ3QgZXhwb3NlIHRoZSBgc2l6ZXNgIGlkbCBhdHRyaWJ1dGVcbiAgaWYgKHBmLnN1cFNyY3NldCAmJiAhcGYuc3VwU2l6ZXMpIHtcblxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3aWR0aDIgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFnQUJBUEFBQVAvLy93QUFBQ0g1QkFBQUFBQUFMQUFBQUFBQ0FBRUFBQUlDQkFvQU93PT1cIjtcbiAgICAgIHZhciB3aWR0aDEgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCI7XG4gICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgIHZhciB0ZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGltZy53aWR0aDtcblxuICAgICAgICBpZiAod2lkdGggPT09IDIpIHtcbiAgICAgICAgICBwZi5zdXBTaXplcyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBhbHdheXNDaGVja1dEZXNjcmlwdG9yID0gcGYuc3VwU3Jjc2V0ICYmICFwZi5zdXBTaXplcztcblxuICAgICAgICBpc1N1cHBvcnRUZXN0UmVhZHkgPSB0cnVlO1xuICAgICAgICAvLyBmb3JjZSBhc3luY1xuICAgICAgICBzZXRUaW1lb3V0KHBpY3R1cmVmaWxsKTtcbiAgICAgIH07XG5cbiAgICAgIGltZy5vbmxvYWQgPSB0ZXN0O1xuICAgICAgaW1nLm9uZXJyb3IgPSB0ZXN0O1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZShcInNpemVzXCIsIFwiOXB4XCIpO1xuXG4gICAgICBpbWcuc3Jjc2V0ID0gd2lkdGgxICsgXCIgMXcsXCIgKyB3aWR0aDIgKyBcIiA5d1wiO1xuICAgICAgaW1nLnNyYyA9IHdpZHRoMTtcbiAgICB9KSgpO1xuXG4gIH0gZWxzZSB7XG4gICAgaXNTdXBwb3J0VGVzdFJlYWR5ID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIHVzaW5nIHBmLnFzYSBpbnN0ZWFkIG9mIGRvbSB0cmF2ZXJzaW5nIGRvZXMgc2NhbGUgbXVjaCBiZXR0ZXIsXG4gIC8vIGVzcGVjaWFsbHkgb24gc2l0ZXMgbWl4aW5nIHJlc3BvbnNpdmUgYW5kIG5vbi1yZXNwb25zaXZlIGltYWdlc1xuICBwZi5zZWxTaG9ydCA9IFwicGljdHVyZT5pbWcsaW1nW3NyY3NldF1cIjtcbiAgcGYuc2VsID0gcGYuc2VsU2hvcnQ7XG4gIHBmLmNmZyA9IGNmZztcblxuICAvKipcbiAgICogU2hvcnRjdXQgcHJvcGVydHkgZm9yIGBkZXZpY2VQaXhlbFJhdGlvYCAoIGZvciBlYXN5IG92ZXJyaWRpbmcgaW4gdGVzdHMgKVxuICAgKi9cbiAgcGYuRFBSID0gKERQUiAgfHwgMSApO1xuICBwZi51ID0gdW5pdHM7XG5cbiAgLy8gY29udGFpbmVyIG9mIHN1cHBvcnRlZCBtaW1lIHR5cGVzIHRoYXQgb25lIG1pZ2h0IG5lZWQgdG8gcXVhbGlmeSBiZWZvcmUgdXNpbmdcbiAgcGYudHlwZXMgPSAgdHlwZXM7XG5cbiAgcGYuc2V0U2l6ZSA9IG5vb3A7XG5cbiAgLyoqXG4gICAqIEdldHMgYSBzdHJpbmcgYW5kIHJldHVybnMgdGhlIGFic29sdXRlIFVSTFxuICAgKiBAcGFyYW0gc3JjXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IGFic29sdXRlIFVSTFxuICAgKi9cblxuICBwZi5tYWtlVXJsID0gbWVtb2l6ZShmdW5jdGlvbihzcmMpIHtcbiAgICBhbmNob3IuaHJlZiA9IHNyYztcbiAgICByZXR1cm4gYW5jaG9yLmhyZWY7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBHZXRzIGEgRE9NIGVsZW1lbnQgb3IgZG9jdW1lbnQgYW5kIGEgc2VsY3RvciBhbmQgcmV0dXJucyB0aGUgZm91bmQgbWF0Y2hlc1xuICAgKiBDYW4gYmUgZXh0ZW5kZWQgd2l0aCBqUXVlcnkvU2l6emxlIGZvciBJRTcgc3VwcG9ydFxuICAgKiBAcGFyYW0gY29udGV4dFxuICAgKiBAcGFyYW0gc2VsXG4gICAqIEByZXR1cm5zIHtOb2RlTGlzdHxBcnJheX1cbiAgICovXG4gIHBmLnFzYSA9IGZ1bmN0aW9uKGNvbnRleHQsIHNlbCkge1xuICAgIHJldHVybiAoIFwicXVlcnlTZWxlY3RvclwiIGluIGNvbnRleHQgKSA/IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbChzZWwpIDogW107XG4gIH07XG5cbiAgLyoqXG4gICAqIFNob3J0Y3V0IG1ldGhvZCBmb3IgbWF0Y2hNZWRpYSAoIGZvciBlYXN5IG92ZXJyaWRpbmcgaW4gdGVzdHMgKVxuICAgKiB3ZXRoZXIgbmF0aXZlIG9yIHBmLm1NUSBpcyB1c2VkIHdpbGwgYmUgZGVjaWRlZCBsYXp5IG9uIGZpcnN0IGNhbGxcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBwZi5tYXRjaGVzTWVkaWEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHdpbmRvdy5tYXRjaE1lZGlhICYmIChtYXRjaE1lZGlhKCBcIihtaW4td2lkdGg6IDAuMWVtKVwiICkgfHwge30pLm1hdGNoZXMgKSB7XG4gICAgICBwZi5tYXRjaGVzTWVkaWEgPSBmdW5jdGlvbiggbWVkaWEgKSB7XG4gICAgICAgIHJldHVybiAhbWVkaWEgfHwgKCBtYXRjaE1lZGlhKCBtZWRpYSApLm1hdGNoZXMgKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBmLm1hdGNoZXNNZWRpYSA9IHBmLm1NUTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGYubWF0Y2hlc01lZGlhLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgfTtcblxuICAvKipcbiAgICogQSBzaW1wbGlmaWVkIG1hdGNoTWVkaWEgaW1wbGVtZW50YXRpb24gZm9yIElFOCBhbmQgSUU5XG4gICAqIGhhbmRsZXMgb25seSBtaW4td2lkdGgvbWF4LXdpZHRoIHdpdGggcHggb3IgZW0gdmFsdWVzXG4gICAqIEBwYXJhbSBtZWRpYVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHBmLm1NUSA9IGZ1bmN0aW9uKCBtZWRpYSApIHtcbiAgICByZXR1cm4gbWVkaWEgPyBldmFsQ1NTKG1lZGlhKSA6IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNhbGN1bGF0ZWQgbGVuZ3RoIGluIGNzcyBwaXhlbCBmcm9tIHRoZSBnaXZlbiBzb3VyY2VTaXplVmFsdWVcbiAgICogaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy0zLyNsZW5ndGgtdmFsdWVcbiAgICogaW50ZW5kZWQgU3BlYyBtaXNtYXRjaGVzOlxuICAgKiAqIERvZXMgbm90IGNoZWNrIGZvciBpbnZhbGlkIHVzZSBvZiBDU1MgZnVuY3Rpb25zXG4gICAqICogRG9lcyBoYW5kbGUgYSBjb21wdXRlZCBsZW5ndGggb2YgMCB0aGUgc2FtZSBhcyBhIG5lZ2F0aXZlIGFuZCB0aGVyZWZvcmUgaW52YWxpZCB2YWx1ZVxuICAgKiBAcGFyYW0gc291cmNlU2l6ZVZhbHVlXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqL1xuICBwZi5jYWxjTGVuZ3RoID0gZnVuY3Rpb24oIHNvdXJjZVNpemVWYWx1ZSApIHtcblxuICAgIHZhciB2YWx1ZSA9IGV2YWxDU1Moc291cmNlU2l6ZVZhbHVlLCB0cnVlKSB8fCBmYWxzZTtcbiAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSB0eXBlIHN0cmluZyBhbmQgY2hlY2tzIGlmIGl0cyBzdXBwb3J0ZWRcbiAgICovXG5cbiAgcGYuc3VwcG9ydHNUeXBlID0gZnVuY3Rpb24oIHR5cGUgKSB7XG4gICAgcmV0dXJuICggdHlwZSApID8gdHlwZXNbIHR5cGUgXSA6IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhIHNvdXJjZVNpemUgaW50byBtZWRpYUNvbmRpdGlvbiAobWVkaWEpIGFuZCBzb3VyY2VTaXplVmFsdWUgKGxlbmd0aClcbiAgICogQHBhcmFtIHNvdXJjZVNpemVTdHJcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBwZi5wYXJzZVNpemUgPSBtZW1vaXplKGZ1bmN0aW9uKCBzb3VyY2VTaXplU3RyICkge1xuICAgIHZhciBtYXRjaCA9ICggc291cmNlU2l6ZVN0ciB8fCBcIlwiICkubWF0Y2gocmVnU2l6ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lZGlhOiBtYXRjaCAmJiBtYXRjaFsxXSxcbiAgICAgIGxlbmd0aDogbWF0Y2ggJiYgbWF0Y2hbMl1cbiAgICB9O1xuICB9KTtcblxuICBwZi5wYXJzZVNldCA9IGZ1bmN0aW9uKCBzZXQgKSB7XG4gICAgaWYgKCAhc2V0LmNhbmRzICkge1xuICAgICAgc2V0LmNhbmRzID0gcGFyc2VTcmNzZXQoc2V0LnNyY3NldCwgc2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHNldC5jYW5kcztcbiAgfTtcblxuICAvKipcbiAgICogcmV0dXJucyAxZW0gaW4gY3NzIHB4IGZvciBodG1sL2JvZHkgZGVmYXVsdCBzaXplXG4gICAqIGZ1bmN0aW9uIHRha2VuIGZyb20gcmVzcG9uZGpzXG4gICAqIEByZXR1cm5zIHsqfG51bWJlcn1cbiAgICovXG4gIHBmLmdldEVtVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm9keTtcbiAgICBpZiAoICFlbWlucHggJiYgKGJvZHkgPSBkb2N1bWVudC5ib2R5KSApIHtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG4gICAgICAgIG9yaWdpbmFsSFRNTENTUyA9IGRvY0VsZW0uc3R5bGUuY3NzVGV4dCxcbiAgICAgICAgb3JpZ2luYWxCb2R5Q1NTID0gYm9keS5zdHlsZS5jc3NUZXh0O1xuXG4gICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9IGJhc2VTdHlsZTtcblxuICAgICAgLy8gMWVtIGluIGEgbWVkaWEgcXVlcnkgaXMgdGhlIHZhbHVlIG9mIHRoZSBkZWZhdWx0IGZvbnQgc2l6ZSBvZiB0aGUgYnJvd3NlclxuICAgICAgLy8gcmVzZXQgZG9jRWxlbSBhbmQgYm9keSB0byBlbnN1cmUgdGhlIGNvcnJlY3QgdmFsdWUgaXMgcmV0dXJuZWRcbiAgICAgIGRvY0VsZW0uc3R5bGUuY3NzVGV4dCA9IGZzQ3NzO1xuICAgICAgYm9keS5zdHlsZS5jc3NUZXh0ID0gZnNDc3M7XG5cbiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuICAgICAgZW1pbnB4ID0gZGl2Lm9mZnNldFdpZHRoO1xuICAgICAgYm9keS5yZW1vdmVDaGlsZCggZGl2ICk7XG5cbiAgICAgIC8vYWxzbyB1cGRhdGUgZW1pbnB4IGJlZm9yZSByZXR1cm5pbmdcbiAgICAgIGVtaW5weCA9IHBhcnNlRmxvYXQoIGVtaW5weCwgMTAgKTtcblxuICAgICAgLy8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgICBkb2NFbGVtLnN0eWxlLmNzc1RleHQgPSBvcmlnaW5hbEhUTUxDU1M7XG4gICAgICBib2R5LnN0eWxlLmNzc1RleHQgPSBvcmlnaW5hbEJvZHlDU1M7XG5cbiAgICB9XG4gICAgcmV0dXJuIGVtaW5weCB8fCAxNjtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSBzdHJpbmcgb2Ygc2l6ZXMgYW5kIHJldHVybnMgdGhlIHdpZHRoIGluIHBpeGVscyBhcyBhIG51bWJlclxuICAgKi9cbiAgcGYuY2FsY0xpc3RMZW5ndGggPSBmdW5jdGlvbiggc291cmNlU2l6ZUxpc3RTdHIgKSB7XG4gICAgLy8gU3BsaXQgdXAgc291cmNlIHNpemUgbGlzdCwgaWUgKCBtYXgtd2lkdGg6IDMwZW0gKSAxMDAlLCAoIG1heC13aWR0aDogNTBlbSApIDUwJSwgMzMlXG4gICAgLy9cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIChtaW4td2lkdGg6MzBlbSkgY2FsYygzMCUgLSAxNXB4KVxuICAgIGlmICggIShzb3VyY2VTaXplTGlzdFN0ciBpbiBzaXplTGVuZ3RoQ2FjaGUpIHx8IGNmZy51VCApIHtcbiAgICAgIHZhciB3aW5uaW5nTGVuZ3RoID0gcGYuY2FsY0xlbmd0aCggcGFyc2VTaXplcyggc291cmNlU2l6ZUxpc3RTdHIgKSApO1xuXG4gICAgICBzaXplTGVuZ3RoQ2FjaGVbIHNvdXJjZVNpemVMaXN0U3RyIF0gPSAhd2lubmluZ0xlbmd0aCA/IHVuaXRzLndpZHRoIDogd2lubmluZ0xlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2l6ZUxlbmd0aENhY2hlWyBzb3VyY2VTaXplTGlzdFN0ciBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUYWtlcyBhIGNhbmRpZGF0ZSBvYmplY3Qgd2l0aCBhIHNyY3NldCBwcm9wZXJ0eSBpbiB0aGUgZm9ybSBvZiB1cmwvXG4gICAqIGV4LiBcImltYWdlcy9waWMtbWVkaXVtLnBuZyAxeCwgaW1hZ2VzL3BpYy1tZWRpdW0tMngucG5nIDJ4XCIgb3JcbiAgICogICAgIFwiaW1hZ2VzL3BpYy1tZWRpdW0ucG5nIDQwMHcsIGltYWdlcy9waWMtbWVkaXVtLTJ4LnBuZyA4MDB3XCIgb3JcbiAgICogICAgIFwiaW1hZ2VzL3BpYy1zbWFsbC5wbmdcIlxuICAgKiBHZXQgYW4gYXJyYXkgb2YgaW1hZ2UgY2FuZGlkYXRlcyBpbiB0aGUgZm9ybSBvZlxuICAgKiAgICAgIHt1cmw6IFwiL2Zvby9iYXIucG5nXCIsIHJlc29sdXRpb246IDF9XG4gICAqIHdoZXJlIHJlc29sdXRpb24gaXMgaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy0zLyNyZXNvbHV0aW9uLXZhbHVlXG4gICAqIElmIHNpemVzIGlzIHNwZWNpZmllZCwgcmVzIGlzIGNhbGN1bGF0ZWRcbiAgICovXG4gIHBmLnNldFJlcyA9IGZ1bmN0aW9uKCBzZXQgKSB7XG4gICAgdmFyIGNhbmRpZGF0ZXM7XG4gICAgaWYgKCBzZXQgKSB7XG5cbiAgICAgIGNhbmRpZGF0ZXMgPSBwZi5wYXJzZVNldCggc2V0ICk7XG5cbiAgICAgIGZvciAoIHZhciBpID0gMCwgbGVuID0gY2FuZGlkYXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgc2V0UmVzb2x1dGlvbiggY2FuZGlkYXRlc1sgaSBdLCBzZXQuc2l6ZXMgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XG4gIH07XG5cbiAgcGYuc2V0UmVzLnJlcyA9IHNldFJlc29sdXRpb247XG5cbiAgcGYuYXBwbHlTZXRDYW5kaWRhdGUgPSBmdW5jdGlvbiggY2FuZGlkYXRlcywgaW1nICkge1xuICAgIGlmICggIWNhbmRpZGF0ZXMubGVuZ3RoICkge3JldHVybjt9XG4gICAgdmFyIGNhbmRpZGF0ZSxcbiAgICAgIGksXG4gICAgICBqLFxuICAgICAgbGVuZ3RoLFxuICAgICAgYmVzdENhbmRpZGF0ZSxcbiAgICAgIGN1clNyYyxcbiAgICAgIGN1ckNhbixcbiAgICAgIGNhbmRpZGF0ZVNyYyxcbiAgICAgIGFib3J0Q3VyU3JjO1xuXG4gICAgdmFyIGltYWdlRGF0YSA9IGltZ1sgcGYubnMgXTtcbiAgICB2YXIgZHByID0gcGYuRFBSO1xuXG4gICAgY3VyU3JjID0gaW1hZ2VEYXRhLmN1clNyYyB8fCBpbWdbY3VyU3JjUHJvcF07XG5cbiAgICBjdXJDYW4gPSBpbWFnZURhdGEuY3VyQ2FuIHx8IHNldFNyY1RvQ3VyKGltZywgY3VyU3JjLCBjYW5kaWRhdGVzWzBdLnNldCk7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGEgY3VycmVudCBzb3VyY2UsIHdlIG1pZ2h0IGVpdGhlciBiZWNvbWUgbGF6eSBvciBnaXZlIHRoaXMgc291cmNlIHNvbWUgYWR2YW50YWdlXG4gICAgaWYgKCBjdXJDYW4gJiYgY3VyQ2FuLnNldCA9PT0gY2FuZGlkYXRlc1sgMCBdLnNldCApIHtcblxuICAgICAgLy8gaWYgYnJvd3NlciBjYW4gYWJvcnQgaW1hZ2UgcmVxdWVzdCBhbmQgdGhlIGltYWdlIGhhcyBhIGhpZ2hlciBwaXhlbCBkZW5zaXR5IHRoYW4gbmVlZGVkXG4gICAgICAvLyBhbmQgdGhpcyBpbWFnZSBpc24ndCBkb3dubG9hZGVkIHlldCwgd2Ugc2tpcCBuZXh0IHBhcnQgYW5kIHRyeSB0byBzYXZlIGJhbmR3aWR0aFxuICAgICAgYWJvcnRDdXJTcmMgPSAoc3VwcG9ydEFib3J0ICYmICFpbWcuY29tcGxldGUgJiYgY3VyQ2FuLnJlcyAtIDAuMSA+IGRwcik7XG5cbiAgICAgIGlmICggIWFib3J0Q3VyU3JjICkge1xuICAgICAgICBjdXJDYW4uY2FjaGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBpZiBjdXJyZW50IGNhbmRpZGF0ZSBpcyBcImJlc3RcIiwgXCJiZXR0ZXJcIiBvciBcIm9rYXlcIixcbiAgICAgICAgLy8gc2V0IGl0IHRvIGJlc3RDYW5kaWRhdGVcbiAgICAgICAgaWYgKCBjdXJDYW4ucmVzID49IGRwciApIHtcbiAgICAgICAgICBiZXN0Q2FuZGlkYXRlID0gY3VyQ2FuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCAhYmVzdENhbmRpZGF0ZSApIHtcblxuICAgICAgY2FuZGlkYXRlcy5zb3J0KCBhc2NlbmRpbmdTb3J0ICk7XG5cbiAgICAgIGxlbmd0aCA9IGNhbmRpZGF0ZXMubGVuZ3RoO1xuICAgICAgYmVzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbIGxlbmd0aCAtIDEgXTtcblxuICAgICAgZm9yICggaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaSBdO1xuICAgICAgICBpZiAoIGNhbmRpZGF0ZS5yZXMgPj0gZHByICkge1xuICAgICAgICAgIGogPSBpIC0gMTtcblxuICAgICAgICAgIC8vIHdlIGhhdmUgZm91bmQgdGhlIHBlcmZlY3QgY2FuZGlkYXRlLFxuICAgICAgICAgIC8vIGJ1dCBsZXQncyBpbXByb3ZlIHRoaXMgYSBsaXR0bGUgYml0IHdpdGggc29tZSBhc3N1bXB0aW9ucyA7LSlcbiAgICAgICAgICBpZiAoY2FuZGlkYXRlc1sgaiBdICYmXG4gICAgICAgICAgICAoYWJvcnRDdXJTcmMgfHwgY3VyU3JjICE9PSBwZi5tYWtlVXJsKCBjYW5kaWRhdGUudXJsICkpICYmXG4gICAgICAgICAgICBjaG9vc2VMb3dSZXMoY2FuZGlkYXRlc1sgaiBdLnJlcywgY2FuZGlkYXRlLnJlcywgZHByLCBjYW5kaWRhdGVzWyBqIF0uY2FjaGVkKSkge1xuXG4gICAgICAgICAgICBiZXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaiBdO1xuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJlc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBiZXN0Q2FuZGlkYXRlICkge1xuXG4gICAgICBjYW5kaWRhdGVTcmMgPSBwZi5tYWtlVXJsKCBiZXN0Q2FuZGlkYXRlLnVybCApO1xuXG4gICAgICBpbWFnZURhdGEuY3VyU3JjID0gY2FuZGlkYXRlU3JjO1xuICAgICAgaW1hZ2VEYXRhLmN1ckNhbiA9IGJlc3RDYW5kaWRhdGU7XG5cbiAgICAgIGlmICggY2FuZGlkYXRlU3JjICE9PSBjdXJTcmMgKSB7XG4gICAgICAgIHBmLnNldFNyYyggaW1nLCBiZXN0Q2FuZGlkYXRlICk7XG4gICAgICB9XG4gICAgICBwZi5zZXRTaXplKCBpbWcgKTtcbiAgICB9XG4gIH07XG5cbiAgcGYuc2V0U3JjID0gZnVuY3Rpb24oIGltZywgYmVzdENhbmRpZGF0ZSApIHtcbiAgICB2YXIgb3JpZ1dpZHRoO1xuICAgIGltZy5zcmMgPSBiZXN0Q2FuZGlkYXRlLnVybDtcblxuICAgIC8vIGFsdGhvdWdoIHRoaXMgaXMgYSBzcGVjaWZpYyBTYWZhcmkgaXNzdWUsIHdlIGRvbid0IHdhbnQgdG8gdGFrZSB0b28gbXVjaCBkaWZmZXJlbnQgY29kZSBwYXRoc1xuICAgIGlmICggYmVzdENhbmRpZGF0ZS5zZXQudHlwZSA9PT0gXCJpbWFnZS9zdmcreG1sXCIgKSB7XG4gICAgICBvcmlnV2lkdGggPSBpbWcuc3R5bGUud2lkdGg7XG4gICAgICBpbWcuc3R5bGUud2lkdGggPSAoaW1nLm9mZnNldFdpZHRoICsgMSkgKyBcInB4XCI7XG5cbiAgICAgIC8vIG5leHQgbGluZSBvbmx5IHNob3VsZCB0cmlnZ2VyIGEgcmVwYWludFxuICAgICAgLy8gaWYuLi4gaXMgb25seSBkb25lIHRvIHRyaWNrIGRlYWQgY29kZSByZW1vdmFsXG4gICAgICBpZiAoIGltZy5vZmZzZXRXaWR0aCArIDEgKSB7XG4gICAgICAgIGltZy5zdHlsZS53aWR0aCA9IG9yaWdXaWR0aDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcGYuZ2V0U2V0ID0gZnVuY3Rpb24oIGltZyApIHtcbiAgICB2YXIgaSwgc2V0LCBzdXBwb3J0c1R5cGU7XG4gICAgdmFyIG1hdGNoID0gZmFsc2U7XG4gICAgdmFyIHNldHMgPSBpbWcgWyBwZi5ucyBdLnNldHM7XG5cbiAgICBmb3IgKCBpID0gMDsgaSA8IHNldHMubGVuZ3RoICYmICFtYXRjaDsgaSsrICkge1xuICAgICAgc2V0ID0gc2V0c1tpXTtcblxuICAgICAgaWYgKCAhc2V0LnNyY3NldCB8fCAhcGYubWF0Y2hlc01lZGlhKCBzZXQubWVkaWEgKSB8fCAhKHN1cHBvcnRzVHlwZSA9IHBmLnN1cHBvcnRzVHlwZSggc2V0LnR5cGUgKSkgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIHN1cHBvcnRzVHlwZSA9PT0gXCJwZW5kaW5nXCIgKSB7XG4gICAgICAgIHNldCA9IHN1cHBvcnRzVHlwZTtcbiAgICAgIH1cblxuICAgICAgbWF0Y2ggPSBzZXQ7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG5cbiAgcGYucGFyc2VTZXRzID0gZnVuY3Rpb24oIGVsZW1lbnQsIHBhcmVudCwgb3B0aW9ucyApIHtcbiAgICB2YXIgc3Jjc2V0QXR0cmlidXRlLCBpbWFnZVNldCwgaXNXRGVzY3JpcG9yLCBzcmNzZXRQYXJzZWQ7XG5cbiAgICB2YXIgaGFzUGljdHVyZSA9IHBhcmVudCAmJiBwYXJlbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJQSUNUVVJFXCI7XG4gICAgdmFyIGltYWdlRGF0YSA9IGVsZW1lbnRbIHBmLm5zIF07XG5cbiAgICBpZiAoIGltYWdlRGF0YS5zcmMgPT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnNyYyApIHtcbiAgICAgIGltYWdlRGF0YS5zcmMgPSBnZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIFwic3JjXCIgKTtcbiAgICAgIGlmICggaW1hZ2VEYXRhLnNyYyApIHtcbiAgICAgICAgc2V0SW1nQXR0ci5jYWxsKCBlbGVtZW50LCBzcmNBdHRyLCBpbWFnZURhdGEuc3JjICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIHNyY0F0dHIgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIGltYWdlRGF0YS5zcmNzZXQgPT09IHVuZGVmaW5lZCB8fCBvcHRpb25zLnNyY3NldCB8fCAhcGYuc3VwU3Jjc2V0IHx8IGVsZW1lbnQuc3Jjc2V0ICkge1xuICAgICAgc3Jjc2V0QXR0cmlidXRlID0gZ2V0SW1nQXR0ci5jYWxsKCBlbGVtZW50LCBcInNyY3NldFwiICk7XG4gICAgICBpbWFnZURhdGEuc3Jjc2V0ID0gc3Jjc2V0QXR0cmlidXRlO1xuICAgICAgc3Jjc2V0UGFyc2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpbWFnZURhdGEuc2V0cyA9IFtdO1xuXG4gICAgaWYgKCBoYXNQaWN0dXJlICkge1xuICAgICAgaW1hZ2VEYXRhLnBpYyA9IHRydWU7XG4gICAgICBnZXRBbGxTb3VyY2VFbGVtZW50cyggcGFyZW50LCBpbWFnZURhdGEuc2V0cyApO1xuICAgIH1cblxuICAgIGlmICggaW1hZ2VEYXRhLnNyY3NldCApIHtcbiAgICAgIGltYWdlU2V0ID0ge1xuICAgICAgICBzcmNzZXQ6IGltYWdlRGF0YS5zcmNzZXQsXG4gICAgICAgIHNpemVzOiBnZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIFwic2l6ZXNcIiApXG4gICAgICB9O1xuXG4gICAgICBpbWFnZURhdGEuc2V0cy5wdXNoKCBpbWFnZVNldCApO1xuXG4gICAgICBpc1dEZXNjcmlwb3IgPSAoYWx3YXlzQ2hlY2tXRGVzY3JpcHRvciB8fCBpbWFnZURhdGEuc3JjKSAmJiByZWdXRGVzYy50ZXN0KGltYWdlRGF0YS5zcmNzZXQgfHwgXCJcIik7XG5cbiAgICAgIC8vIGFkZCBub3JtYWwgc3JjIGFzIGNhbmRpZGF0ZSwgaWYgc291cmNlIGhhcyBubyB3IGRlc2NyaXB0b3JcbiAgICAgIGlmICggIWlzV0Rlc2NyaXBvciAmJiBpbWFnZURhdGEuc3JjICYmICFnZXRDYW5kaWRhdGVGb3JTcmMoaW1hZ2VEYXRhLnNyYywgaW1hZ2VTZXQpICYmICFpbWFnZVNldC5oYXMxeCApIHtcbiAgICAgICAgaW1hZ2VTZXQuc3Jjc2V0ICs9IFwiLCBcIiArIGltYWdlRGF0YS5zcmM7XG4gICAgICAgIGltYWdlU2V0LmNhbmRzLnB1c2goe1xuICAgICAgICAgIHVybDogaW1hZ2VEYXRhLnNyYyxcbiAgICAgICAgICBkOiAxLFxuICAgICAgICAgIHNldDogaW1hZ2VTZXRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKCBpbWFnZURhdGEuc3JjICkge1xuICAgICAgaW1hZ2VEYXRhLnNldHMucHVzaCgge1xuICAgICAgICBzcmNzZXQ6IGltYWdlRGF0YS5zcmMsXG4gICAgICAgIHNpemVzOiBudWxsXG4gICAgICB9ICk7XG4gICAgfVxuXG4gICAgaW1hZ2VEYXRhLmN1ckNhbiA9IG51bGw7XG4gICAgaW1hZ2VEYXRhLmN1clNyYyA9IHVuZGVmaW5lZDtcblxuICAgIC8vIGlmIGltZyBoYXMgcGljdHVyZSBvciB0aGUgc3Jjc2V0IHdhcyByZW1vdmVkIG9yIGhhcyBhIHNyY3NldCBhbmQgZG9lcyBub3Qgc3VwcG9ydCBzcmNzZXQgYXQgYWxsXG4gICAgLy8gb3IgaGFzIGEgdyBkZXNjcmlwdG9yIChhbmQgZG9lcyBub3Qgc3VwcG9ydCBzaXplcykgc2V0IHN1cHBvcnQgdG8gZmFsc2UgdG8gZXZhbHVhdGVcbiAgICBpbWFnZURhdGEuc3VwcG9ydGVkID0gISggaGFzUGljdHVyZSB8fCAoIGltYWdlU2V0ICYmICFwZi5zdXBTcmNzZXQgKSB8fCAoaXNXRGVzY3JpcG9yICYmICFwZi5zdXBTaXplcykgKTtcblxuICAgIGlmICggc3Jjc2V0UGFyc2VkICYmIHBmLnN1cFNyY3NldCAmJiAhaW1hZ2VEYXRhLnN1cHBvcnRlZCApIHtcbiAgICAgIGlmICggc3Jjc2V0QXR0cmlidXRlICkge1xuICAgICAgICBzZXRJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIHNyY3NldEF0dHIsIHNyY3NldEF0dHJpYnV0ZSApO1xuICAgICAgICBlbGVtZW50LnNyY3NldCA9IFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVJbWdBdHRyLmNhbGwoIGVsZW1lbnQsIHNyY3NldEF0dHIgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW1hZ2VEYXRhLnN1cHBvcnRlZCAmJiAhaW1hZ2VEYXRhLnNyY3NldCAmJiAoKCFpbWFnZURhdGEuc3JjICYmIGVsZW1lbnQuc3JjKSB8fCAgZWxlbWVudC5zcmMgIT09IHBmLm1ha2VVcmwoaW1hZ2VEYXRhLnNyYykpKSB7XG4gICAgICBpZiAoaW1hZ2VEYXRhLnNyYyA9PT0gbnVsbCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3JjID0gaW1hZ2VEYXRhLnNyYztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpbWFnZURhdGEucGFyc2VkID0gdHJ1ZTtcbiAgfTtcblxuICBwZi5maWxsSW1nID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBpbWFnZURhdGE7XG4gICAgdmFyIGV4dHJlbWUgPSBvcHRpb25zLnJlc2VsZWN0IHx8IG9wdGlvbnMucmVldmFsdWF0ZTtcblxuICAgIC8vIGV4cGFuZG8gZm9yIGNhY2hpbmcgZGF0YSBvbiB0aGUgaW1nXG4gICAgaWYgKCAhZWxlbWVudFsgcGYubnMgXSApIHtcbiAgICAgIGVsZW1lbnRbIHBmLm5zIF0gPSB7fTtcbiAgICB9XG5cbiAgICBpbWFnZURhdGEgPSBlbGVtZW50WyBwZi5ucyBdO1xuXG4gICAgLy8gaWYgdGhlIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBldmFsdWF0ZWQsIHNraXAgaXRcbiAgICAvLyB1bmxlc3MgYG9wdGlvbnMucmVldmFsdWF0ZWAgaXMgc2V0IHRvIHRydWUgKCB0aGlzLCBmb3IgZXhhbXBsZSxcbiAgICAvLyBpcyBzZXQgdG8gdHJ1ZSB3aGVuIHJ1bm5pbmcgYHBpY3R1cmVmaWxsYCBvbiBgcmVzaXplYCApLlxuICAgIGlmICggIWV4dHJlbWUgJiYgaW1hZ2VEYXRhLmV2YWxlZCA9PT0gZXZhbElkICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICggIWltYWdlRGF0YS5wYXJzZWQgfHwgb3B0aW9ucy5yZWV2YWx1YXRlICkge1xuICAgICAgcGYucGFyc2VTZXRzKCBlbGVtZW50LCBlbGVtZW50LnBhcmVudE5vZGUsIG9wdGlvbnMgKTtcbiAgICB9XG5cbiAgICBpZiAoICFpbWFnZURhdGEuc3VwcG9ydGVkICkge1xuICAgICAgYXBwbHlCZXN0Q2FuZGlkYXRlKCBlbGVtZW50ICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltYWdlRGF0YS5ldmFsZWQgPSBldmFsSWQ7XG4gICAgfVxuICB9O1xuXG4gIHBmLnNldHVwUnVuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCAhYWxyZWFkeVJ1biB8fCBpc1Z3RGlydHkgfHwgKERQUiAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pICkge1xuICAgICAgdXBkYXRlTWV0cmljcygpO1xuICAgIH1cbiAgfTtcblxuICAvLyBJZiBwaWN0dXJlIGlzIHN1cHBvcnRlZCwgd2VsbCwgdGhhdCdzIGF3ZXNvbWUuXG4gIGlmICggcGYuc3VwUGljdHVyZSApIHtcbiAgICBwaWN0dXJlZmlsbCA9IG5vb3A7XG4gICAgcGYuZmlsbEltZyA9IG5vb3A7XG4gIH0gZWxzZSB7XG5cbiAgICAgIC8vIFNldCB1cCBwaWN0dXJlIHBvbHlmaWxsIGJ5IHBvbGxpbmcgdGhlIGRvY3VtZW50XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlzRG9tUmVhZHk7XG4gICAgICB2YXIgcmVnUmVhZHkgPSB3aW5kb3cuYXR0YWNoRXZlbnQgPyAvZCR8XmMvIDogL2QkfF5jfF5pLztcblxuICAgICAgdmFyIHJ1biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVhZHlTdGF0ZSA9IGRvY3VtZW50LnJlYWR5U3RhdGUgfHwgXCJcIjtcblxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dChydW4sIHJlYWR5U3RhdGUgPT09IFwibG9hZGluZ1wiID8gMjAwIDogIDk5OSk7XG4gICAgICAgIGlmICggZG9jdW1lbnQuYm9keSApIHtcbiAgICAgICAgICBwZi5maWxsSW1ncygpO1xuICAgICAgICAgIGlzRG9tUmVhZHkgPSBpc0RvbVJlYWR5IHx8IHJlZ1JlYWR5LnRlc3QocmVhZHlTdGF0ZSk7XG4gICAgICAgICAgaWYgKCBpc0RvbVJlYWR5ICkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aW1lcklkICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciB0aW1lcklkID0gc2V0VGltZW91dChydW4sIGRvY3VtZW50LmJvZHkgPyA5IDogOTkpO1xuXG4gICAgICAvLyBBbHNvIGF0dGFjaCBwaWN0dXJlZmlsbCBvbiByZXNpemUgYW5kIHJlYWR5c3RhdGVjaGFuZ2VcbiAgICAgIC8vIGh0dHA6Ly9tb2Rlcm5qYXZhc2NyaXB0LmJsb2dzcG90LmNvbS8yMDEzLzA4L2J1aWxkaW5nLWJldHRlci1kZWJvdW5jZS5odG1sXG4gICAgICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICAgIHZhciB0aW1lb3V0LCB0aW1lc3RhbXA7XG4gICAgICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBsYXN0ID0gKG5ldyBEYXRlKCkpIC0gdGltZXN0YW1wO1xuXG4gICAgICAgICAgaWYgKGxhc3QgPCB3YWl0KSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgdmFyIGxhc3RDbGllbnRXaWR0aCA9IGRvY0VsZW0uY2xpZW50SGVpZ2h0O1xuICAgICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlzVndEaXJ0eSA9IE1hdGgubWF4KHdpbmRvdy5pbm5lcldpZHRoIHx8IDAsIGRvY0VsZW0uY2xpZW50V2lkdGgpICE9PSB1bml0cy53aWR0aCB8fCBkb2NFbGVtLmNsaWVudEhlaWdodCAhPT0gbGFzdENsaWVudFdpZHRoO1xuICAgICAgICBsYXN0Q2xpZW50V2lkdGggPSBkb2NFbGVtLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKCBpc1Z3RGlydHkgKSB7XG4gICAgICAgICAgcGYuZmlsbEltZ3MoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgb24oIHdpbmRvdywgXCJyZXNpemVcIiwgZGVib3VuY2Uob25SZXNpemUsIDk5ICkgKTtcbiAgICAgIG9uKCBkb2N1bWVudCwgXCJyZWFkeXN0YXRlY2hhbmdlXCIsIHJ1biApO1xuICAgIH0pKCk7XG4gIH1cblxuICBwZi5waWN0dXJlZmlsbCA9IHBpY3R1cmVmaWxsO1xuICAvL3VzZSB0aGlzIGludGVybmFsbHkgZm9yIGVhc3kgbW9ua2V5IHBhdGNoaW5nL3BlcmZvcm1hbmNlIHRlc3RpbmdcbiAgcGYuZmlsbEltZ3MgPSBwaWN0dXJlZmlsbDtcbiAgcGYudGVhcmRvd25SdW4gPSBub29wO1xuXG4gIC8qIGV4cG9zZSBtZXRob2RzIGZvciB0ZXN0aW5nICovXG4gIHBpY3R1cmVmaWxsLl8gPSBwZjtcblxuICB3aW5kb3cucGljdHVyZWZpbGxDRkcgPSB7XG4gICAgcGY6IHBmLFxuICAgIHB1c2g6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIHZhciBuYW1lID0gYXJncy5zaGlmdCgpO1xuICAgICAgaWYgKHR5cGVvZiBwZltuYW1lXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHBmW25hbWVdLmFwcGx5KHBmLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNmZ1tuYW1lXSA9IGFyZ3NbMF07XG4gICAgICAgIGlmIChhbHJlYWR5UnVuKSB7XG4gICAgICAgICAgcGYuZmlsbEltZ3MoIHsgcmVzZWxlY3Q6IHRydWUgfSApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHdoaWxlIChzZXRPcHRpb25zICYmIHNldE9wdGlvbnMubGVuZ3RoKSB7XG4gICAgd2luZG93LnBpY3R1cmVmaWxsQ0ZHLnB1c2goc2V0T3B0aW9ucy5zaGlmdCgpKTtcbiAgfVxuXG4gIC8qIGV4cG9zZSBwaWN0dXJlZmlsbCAqL1xuICB3aW5kb3cucGljdHVyZWZpbGwgPSBwaWN0dXJlZmlsbDtcblxuICAvKiBleHBvc2UgcGljdHVyZWZpbGwgKi9cbiAgaWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcbiAgICAvLyBDb21tb25KUywganVzdCBleHBvcnRcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHBpY3R1cmVmaWxsO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgc3VwcG9ydFxuICAgIGRlZmluZSggXCJwaWN0dXJlZmlsbFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBpY3R1cmVmaWxsOyB9ICk7XG4gIH1cblxuICAvLyBJRTggZXZhbHMgdGhpcyBzeW5jLCBzbyBpdCBtdXN0IGJlIHRoZSBsYXN0IHRoaW5nIHdlIGRvXG4gIGlmICggIXBmLnN1cFBpY3R1cmUgKSB7XG4gICAgdHlwZXNbIFwiaW1hZ2Uvd2VicFwiIF0gPSBkZXRlY3RUeXBlU3VwcG9ydChcImltYWdlL3dlYnBcIiwgXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSa29BQUFCWFJVSlFWbEE0V0FvQUFBQVFBQUFBQUFBQUFBQUFRVXhRU0F3QUFBQUJCeEFSL1E5RVJQOERBQUJXVURnZ0dBQUFBREFCQUowQktnRUFBUUFEQURRbHBBQURjQUQrKy8xUUFBPT1cIiApO1xuICB9XG5cbn0gKSggd2luZG93LCBkb2N1bWVudCApO1xuIl19
